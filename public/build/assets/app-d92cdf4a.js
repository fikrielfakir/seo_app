import{a as Xs,P as ps,c as fs}from"./index-a2186a3f.js";import{S as ms,a as wt}from"./sweetalert2.all-3a36e020.js";import{c as Qs,g as Js}from"./_commonjsHelpers-725317a4.js";class Zs{constructor(){const t=document.querySelectorAll("[data-conditional-name]");for(const i of t){const a=i.dataset.conditionalName,d=i.dataset.conditionalValue,p=i.parentNode,f=document.querySelectorAll(`[name="${a}"]`),b=N=>d.includes(N),L=N=>N.style.display="none",P=N=>N.style.display="";for(const N of f)N.type==="select-one"||N.type==="radio"?(b(N.value)||L(p),N.addEventListener("change",$=>b($.target.value)?P(p):L(p))):N.type==="checkbox"&&(N.checked||L(p),N.addEventListener("change",$=>$.target.checked?P(p):L(p)))}}}window.conditional=new Zs;window.axios=Xs;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Sortable=ms;/*!
  * CoreUI [object Object] v4.2.6 (https://coreui.io)
  * Copyright 2022 The CoreUI Team (https://github.com/orgs/coreui/people)
  * Licensed under MIT (https://coreui.io)
  */const ti=1e6,ei=1e3,Se="transitionend",_s=r=>(r&&window.CSS&&window.CSS.escape&&(r=r.replace(/#([^\s"#']+)/g,(t,i)=>`#${CSS.escape(i)}`)),r),si=r=>r==null?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),ii=r=>{do r+=Math.floor(Math.random()*ti);while(document.getElementById(r));return r},ni=r=>{if(!r)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(r);const a=Number.parseFloat(t),d=Number.parseFloat(i);return!a&&!d?0:(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*ei)},Es=r=>{r.dispatchEvent(new Event(Se))},et=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),at=r=>et(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(_s(r)):null,It=r=>{if(!et(r)||r.getClientRects().length===0)return!1;const t=getComputedStyle(r).getPropertyValue("visibility")==="visible",i=r.closest("details:not([open])");if(!i)return t;if(i!==r){const a=r.closest("summary");if(a&&a.parentNode!==i||a===null)return!1}return t},rt=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",vs=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){const t=r.getRootNode();return t instanceof ShadowRoot?t:null}return r instanceof ShadowRoot?r:r.parentNode?vs(r.parentNode):null},ie=()=>{},Vt=r=>{r.offsetHeight},Ts=()=>window.jQuery&&!document.body.hasAttribute("data-coreui-no-jquery")?window.jQuery:null,le=[],oi=r=>{document.readyState==="loading"?(le.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of le)t()}),le.push(r)):r()},G=()=>document.documentElement.dir==="rtl",q=r=>{oi(()=>{const t=Ts();if(t){const i=r.NAME,a=t.fn[i];t.fn[i]=r.jQueryInterface,t.fn[i].Constructor=r,t.fn[i].noConflict=()=>(t.fn[i]=a,r.jQueryInterface)}})},j=(r,t=[],i=r)=>typeof r=="function"?r(...t):i,bs=(r,t,i=!0)=>{if(!i){j(r);return}const a=5,d=ni(t)+a;let p=!1;const f=({target:b})=>{b===t&&(p=!0,t.removeEventListener(Se,f),j(r))};t.addEventListener(Se,f),setTimeout(()=>{p||Es(t)},d)},Le=(r,t,i,a)=>{const d=r.length;let p=r.indexOf(t);return p===-1?!i&&a?r[d-1]:r[0]:(p+=i?1:-1,a&&(p=(p+d)%d),r[Math.max(0,Math.min(p,d-1))])},ai=/[^.]*(?=\..*)\.|.*/,ri=/\..*/,li=/::\d+$/,ce={};let ke=1;const ws={mouseenter:"mouseover",mouseleave:"mouseout"},ci=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function As(r,t){return t&&`${t}::${ke++}`||r.uidEvent||ke++}function ys(r){const t=As(r);return r.uidEvent=t,ce[t]=ce[t]||{},ce[t]}function di(r,t){return function i(a){return Ie(a,{delegateTarget:r}),i.oneOff&&g.off(r,a.type,t),t.apply(r,[a])}}function hi(r,t,i){return function a(d){const p=r.querySelectorAll(t);for(let{target:f}=d;f&&f!==this;f=f.parentNode)for(const b of p)if(b===f)return Ie(d,{delegateTarget:f}),a.oneOff&&g.off(r,d.type,t,i),i.apply(f,[d])}}function Ns(r,t,i=null){return Object.values(r).find(a=>a.callable===t&&a.delegationSelector===i)}function Ss(r,t,i){const a=typeof t=="string",d=a?i:t||i;let p=Os(r);return ci.has(p)||(p=r),[a,d,p]}function Re(r,t,i,a,d){if(typeof t!="string"||!r)return;let[p,f,b]=Ss(t,i,a);t in ws&&(f=(Tt=>function(U){if(!U.relatedTarget||U.relatedTarget!==U.delegateTarget&&!U.delegateTarget.contains(U.relatedTarget))return Tt.call(this,U)})(f));const L=ys(r),P=L[b]||(L[b]={}),N=Ns(P,f,p?i:null);if(N){N.oneOff=N.oneOff&&d;return}const $=As(f,t.replace(ai,"")),k=p?hi(r,i,f):di(r,f);k.delegationSelector=p?i:null,k.callable=f,k.oneOff=d,k.uidEvent=$,P[$]=k,r.addEventListener(b,k,p)}function Oe(r,t,i,a,d){const p=Ns(t[i],a,d);p&&(r.removeEventListener(i,p,!!d),delete t[i][p.uidEvent])}function ui(r,t,i,a){const d=t[i]||{};for(const[p,f]of Object.entries(d))p.includes(a)&&Oe(r,t,i,f.callable,f.delegationSelector)}function Os(r){return r=r.replace(ri,""),ws[r]||r}const g={on(r,t,i,a){Re(r,t,i,a,!1)},one(r,t,i,a){Re(r,t,i,a,!0)},off(r,t,i,a){if(typeof t!="string"||!r)return;const[d,p,f]=Ss(t,i,a),b=f!==t,L=ys(r),P=L[f]||{},N=t.startsWith(".");if(typeof p<"u"){if(!Object.keys(P).length)return;Oe(r,L,f,p,d?i:null);return}if(N)for(const $ of Object.keys(L))ui(r,L,$,t.slice(1));for(const[$,k]of Object.entries(P)){const D=$.replace(li,"");(!b||t.includes(D))&&Oe(r,L,f,k.callable,k.delegationSelector)}},trigger(r,t,i){if(typeof t!="string"||!r)return null;const a=Ts(),d=Os(t),p=t!==d;let f=null,b=!0,L=!0,P=!1;p&&a&&(f=a.Event(t,i),a(r).trigger(f),b=!f.isPropagationStopped(),L=!f.isImmediatePropagationStopped(),P=f.isDefaultPrevented());let N=new Event(t,{bubbles:b,cancelable:!0});return N=Ie(N,i),P&&N.preventDefault(),L&&r.dispatchEvent(N),N.defaultPrevented&&f&&f.preventDefault(),N}};function Ie(r,t={}){for(const[i,a]of Object.entries(t))try{r[i]=a}catch{Object.defineProperty(r,i,{configurable:!0,get(){return a}})}return r}const ot=new Map,te={set(r,t,i){ot.has(r)||ot.set(r,new Map);const a=ot.get(r);if(!a.has(t)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(t,i)},get(r,t){return ot.has(r)&&ot.get(r).get(t)||null},remove(r,t){if(!ot.has(r))return;const i=ot.get(r);i.delete(t),i.size===0&&ot.delete(r)}};function Pe(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function de(r){return r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const z={setDataAttribute(r,t,i){r.setAttribute(`data-coreui-${de(t)}`,i)},removeDataAttribute(r,t){r.removeAttribute(`data-coreui-${de(t)}`)},getDataAttributes(r){if(!r)return{};const t={},i=Object.keys(r.dataset).filter(a=>a.startsWith("coreui")&&!a.startsWith("coreuiConfig"));for(const a of i){let d=a.replace(/^coreui/,"");d=d.charAt(0).toLowerCase()+d.slice(1,d.length),t[d]=Pe(r.dataset[a])}return t},getDataAttribute(r,t){return Pe(r.getAttribute(`data-coreui-${de(t)}`))}};class Ht{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){const a=et(i)?z.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...et(i)?z.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const[a,d]of Object.entries(i)){const p=t[a],f=et(p)?"element":si(p);if(!new RegExp(d).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${f}" but expected type "${d}".`)}}}const gi="4.2.6";class Y extends Ht{constructor(t,i){super(),t=at(t),t&&(this._element=t,this._config=this._getConfig(i),te.set(this._element,this.constructor.DATA_KEY,this))}dispose(){te.remove(this._element,this.constructor.DATA_KEY),g.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,i,a=!0){bs(t,i,a)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return te.get(at(t),this.DATA_KEY)}static getOrCreateInstance(t,i={}){return this.getInstance(t)||new this(t,typeof i=="object"?i:null)}static get VERSION(){return gi}static get DATA_KEY(){return`coreui.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const he=r=>{let t=r.getAttribute("data-coreui-target");if(!t||t==="#"){let i=r.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?i.trim():null}return _s(t)},E={find(r,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,r))},findOne(r,t=document.documentElement){return Element.prototype.querySelector.call(t,r)},children(r,t){return[].concat(...r.children).filter(i=>i.matches(t))},parents(r,t){const i=[];let a=r.parentNode.closest(t);for(;a;)i.push(a),a=a.parentNode.closest(t);return i},prev(r,t){let i=r.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(r,t){let i=r.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(r){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,r).filter(i=>!rt(i)&&It(i))},getSelectorFromElement(r){const t=he(r);return t&&E.findOne(t)?t:null},getElementFromSelector(r){const t=he(r);return t?E.findOne(t):null},getMultipleElementsFromSelector(r){const t=he(r);return t?E.find(t):[]}},ae=(r,t="hide")=>{const i=`click.dismiss${r.EVENT_KEY}`,a=r.NAME;g.on(document,i,`[data-coreui-dismiss="${a}"]`,function(d){if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),rt(this))return;const p=E.getElementFromSelector(this)||this.closest(`.${a}`);r.getOrCreateInstance(p)[t]()})},pi="alert",fi="coreui.alert",Cs=`.${fi}`,mi=`close${Cs}`,_i=`closed${Cs}`,Ei="fade",vi="show";class Wt extends Y{static get NAME(){return pi}close(){if(g.trigger(this._element,mi).defaultPrevented)return;this._element.classList.remove(vi);const i=this._element.classList.contains(Ei);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),g.trigger(this._element,_i),this.dispose()}static jQueryInterface(t){return this.each(function(){const i=Wt.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}ae(Wt,"close");q(Wt);const Ti="button",bi="coreui.button",wi=`.${bi}`,Ai=".data-api",yi="active",Ve='[data-coreui-toggle="button"]',Ni=`click${wi}${Ai}`;class Ft extends Y{static get NAME(){return Ti}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(yi))}static jQueryInterface(t){return this.each(function(){const i=Ft.getOrCreateInstance(this);t==="toggle"&&i[t]()})}}g.on(document,Ni,Ve,r=>{r.preventDefault();const t=r.target.closest(Ve);Ft.getOrCreateInstance(t).toggle()});q(Ft);const Si="swipe",Mt=".coreui.swipe",Oi=`touchstart${Mt}`,Ci=`touchmove${Mt}`,Di=`touchend${Mt}`,Li=`pointerdown${Mt}`,Ii=`pointerup${Mt}`,Mi="touch",$i="pen",xi="pointer-event",ki=40,Ri={endCallback:null,leftCallback:null,rightCallback:null},Pi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ne extends Ht{constructor(t,i){super(),this._element=t,!(!t||!ne.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ri}static get DefaultType(){return Pi}static get NAME(){return Si}dispose(){g.off(this._element,Mt)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),j(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=ki)return;const i=t/this._deltaX;this._deltaX=0,i&&j(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(g.on(this._element,Li,t=>this._start(t)),g.on(this._element,Ii,t=>this._end(t)),this._element.classList.add(xi)):(g.on(this._element,Oi,t=>this._start(t)),g.on(this._element,Ci,t=>this._move(t)),g.on(this._element,Di,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===$i||t.pointerType===Mi)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Vi="carousel",Hi="coreui.carousel",lt=`.${Hi}`,Ds=".data-api",Wi="ArrowLeft",Fi="ArrowRight",Bi=500,kt="next",At="prev",Nt="left",ee="right",Ki=`slide${lt}`,ue=`slid${lt}`,ji=`keydown${lt}`,qi=`mouseenter${lt}`,Ui=`mouseleave${lt}`,Yi=`dragstart${lt}`,zi=`load${lt}${Ds}`,Gi=`click${lt}${Ds}`,Ls="carousel",Yt="active",Xi="slide",Qi="carousel-item-end",Ji="carousel-item-start",Zi="carousel-item-next",tn="carousel-item-prev",Is=".active",Ms=".carousel-item",en=Is+Ms,sn=".carousel-item img",nn=".carousel-indicators",on="[data-coreui-slide], [data-coreui-slide-to]",an='[data-coreui-ride="carousel"]',rn={[Wi]:ee,[Fi]:Nt},ln={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $t extends Y{constructor(t,i){super(t,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=E.findOne(nn,this._element),this._addEventListeners(),this._config.ride===Ls&&this.cycle()}static get Default(){return ln}static get DefaultType(){return cn}static get NAME(){return Vi}next(){this._slide(kt)}nextWhenVisible(){!document.hidden&&It(this._element)&&this.next()}prev(){this._slide(At)}pause(){this._isSliding&&Es(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){g.one(this._element,ue,()=>this.cycle());return}this.cycle()}}to(t){const i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding){g.one(this._element,ue,()=>this.to(t));return}const a=this._getItemIndex(this._getActive());if(a===t)return;const d=t>a?kt:At;this._slide(d,i[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&g.on(this._element,ji,t=>this._keydown(t)),this._config.pause==="hover"&&(g.on(this._element,qi,()=>this.pause()),g.on(this._element,Ui,()=>this._maybeEnableCycle())),this._config.touch&&ne.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of E.find(sn,this._element))g.on(a,Yi,d=>d.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(ee)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Bi+this._config.interval))}};this._swipeHelper=new ne(this._element,i)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const i=rn[t.key];i&&(t.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const i=E.findOne(Is,this._indicatorsElement);i.classList.remove(Yt),i.removeAttribute("aria-current");const a=E.findOne(`[data-coreui-slide-to="${t}"]`,this._indicatorsElement);a&&(a.classList.add(Yt),a.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const i=Number.parseInt(t.getAttribute("data-coreui-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;const a=this._getActive(),d=t===kt,p=i||Le(this._getItems(),a,d,this._config.wrap);if(p===a)return;const f=this._getItemIndex(p),b=D=>g.trigger(this._element,D,{relatedTarget:p,direction:this._orderToDirection(t),from:this._getItemIndex(a),to:f});if(b(Ki).defaultPrevented||!a||!p)return;const P=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(f),this._activeElement=p;const N=d?Ji:Qi,$=d?Zi:tn;p.classList.add($),Vt(p),a.classList.add(N),p.classList.add(N);const k=()=>{p.classList.remove(N,$),p.classList.add(Yt),a.classList.remove(Yt,$,N),this._isSliding=!1,b(ue)};this._queueCallback(k,a,this._isAnimated()),P&&this.cycle()}_isAnimated(){return this._element.classList.contains(Xi)}_getActive(){return E.findOne(en,this._element)}_getItems(){return E.find(Ms,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return G()?t===Nt?At:kt:t===Nt?kt:At}_orderToDirection(t){return G()?t===At?Nt:ee:t===At?ee:Nt}static jQueryInterface(t){return this.each(function(){const i=$t.getOrCreateInstance(this,t);if(typeof t=="number"){i.to(t);return}if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}g.on(document,Gi,on,function(r){const t=E.getElementFromSelector(this);if(!t||!t.classList.contains(Ls))return;r.preventDefault();const i=$t.getOrCreateInstance(t),a=this.getAttribute("data-coreui-slide-to");if(a){i.to(a),i._maybeEnableCycle();return}if(z.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});g.on(window,zi,()=>{const r=E.find(an);for(const t of r)$t.getOrCreateInstance(t)});q($t);const dn="collapse",hn="coreui.collapse",Bt=`.${hn}`,un=".data-api",gn=`show${Bt}`,pn=`shown${Bt}`,fn=`hide${Bt}`,mn=`hidden${Bt}`,_n=`click${Bt}${un}`,ge="show",Ot="collapse",zt="collapsing",En="collapsed",vn=`:scope .${Ot} .${Ot}`,Tn="collapse-horizontal",bn="width",wn="height",An=".collapse.show, .collapse.collapsing",Ce='[data-coreui-toggle="collapse"]',yn={parent:null,toggle:!0},Nn={parent:"(null|element)",toggle:"boolean"};class ft extends Y{constructor(t,i){super(t,i),this._isTransitioning=!1,this._triggerArray=[];const a=E.find(Ce);for(const d of a){const p=E.getSelectorFromElement(d),f=E.find(p).filter(b=>b===this._element);p!==null&&f.length&&this._triggerArray.push(d)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yn}static get DefaultType(){return Nn}static get NAME(){return dn}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(An).filter(b=>b!==this._element).map(b=>ft.getOrCreateInstance(b,{toggle:!1}))),t.length&&t[0]._isTransitioning||g.trigger(this._element,gn).defaultPrevented)return;for(const b of t)b.hide();const a=this._getDimension();this._element.classList.remove(Ot),this._element.classList.add(zt),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(zt),this._element.classList.add(Ot,ge),this._element.style[a]="",g.trigger(this._element,pn)},f=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(d,this._element,!0),this._element.style[a]=`${this._element[f]}px`}hide(){if(this._isTransitioning||!this._isShown()||g.trigger(this._element,fn).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Vt(this._element),this._element.classList.add(zt),this._element.classList.remove(Ot,ge);for(const d of this._triggerArray){const p=E.getElementFromSelector(d);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(zt),this._element.classList.add(Ot),g.trigger(this._element,mn)};this._element.style[i]="",this._queueCallback(a,this._element,!0)}_isShown(t=this._element){return t.classList.contains(ge)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=at(t.parent),t}_getDimension(){return this._element.classList.contains(Tn)?bn:wn}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Ce);for(const i of t){const a=E.getElementFromSelector(i);a&&this._addAriaAndCollapsedClass([i],this._isShown(a))}}_getFirstLevelChildren(t){const i=E.find(vn,this._config.parent);return E.find(t,this._config.parent).filter(a=>!i.includes(a))}_addAriaAndCollapsedClass(t,i){if(t.length)for(const a of t)a.classList.toggle(En,!i),a.setAttribute("aria-expanded",i)}static jQueryInterface(t){const i={};return typeof t=="string"&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){const a=ft.getOrCreateInstance(this,i);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t]()}})}}g.on(document,_n,Ce,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();for(const t of E.getMultipleElementsFromSelector(this))ft.getOrCreateInstance(t,{toggle:!1}).toggle()});q(ft);const He="dropdown",Sn="coreui.dropdown",Et=`.${Sn}`,Me=".data-api",On="Escape",We="Tab",Cn="ArrowUp",Fe="ArrowDown",Dn=2,Ln=`hide${Et}`,In=`hidden${Et}`,Mn=`show${Et}`,$n=`shown${Et}`,$s=`click${Et}${Me}`,xs=`keydown${Et}${Me}`,xn=`keyup${Et}${Me}`,St="show",kn="dropup",Rn="dropend",Pn="dropstart",Vn="dropup-center",Hn="dropdown-center",gt='[data-coreui-toggle="dropdown"]:not(.disabled):not(:disabled)',Wn=`${gt}.${St}`,se=".dropdown-menu",Fn=".navbar",Bn=".navbar-nav",Kn=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",jn=G()?"top-end":"top-start",qn=G()?"top-start":"top-end",Un=G()?"bottom-end":"bottom-start",Yn=G()?"bottom-start":"bottom-end",zn=G()?"left-start":"right-start",Gn=G()?"right-start":"left-start",Xn="top",Qn="bottom",Jn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Zn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class X extends Y{constructor(t,i){super(t,i),this._popper=null,this._parent=this._element.parentNode,this._menu=E.next(this._element,se)[0]||E.prev(this._element,se)[0]||E.findOne(se,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Jn}static get DefaultType(){return Zn}static get NAME(){return He}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!g.trigger(this._element,Mn,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bn))for(const a of[].concat(...document.body.children))g.on(a,"mouseover",ie);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(St),this._element.classList.add(St),g.trigger(this._element,$n,t)}}hide(){if(rt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!g.trigger(this._element,Ln,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))g.off(a,"mouseover",ie);this._popper&&this._popper.destroy(),this._menu.classList.remove(St),this._element.classList.remove(St),this._element.setAttribute("aria-expanded","false"),z.removeDataAttribute(this._menu,"popper"),g.trigger(this._element,In,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!et(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${He.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof ps>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:et(this._config.reference)?t=at(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const i=this._getPopperConfig();this._popper=fs(t,this._menu,i)}_isShown(){return this._menu.classList.contains(St)}_getPlacement(){const t=this._parent;if(t.classList.contains(Rn))return zn;if(t.classList.contains(Pn))return Gn;if(t.classList.contains(Vn))return Xn;if(t.classList.contains(Hn))return Qn;const i=getComputedStyle(this._menu).getPropertyValue("--cui-position").trim()==="end";return t.classList.contains(kn)?i?qn:jn:i?Yn:Un}_detectNavbar(){return this._element.closest(Fn)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(z.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...j(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:i}){const a=E.find(Kn,this._menu).filter(d=>It(d));a.length&&Le(a,i,t===Fe,!a.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){const i=X.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}static clearMenus(t){if(t.button===Dn||t.type==="keyup"&&t.key!==We)return;const i=E.find(Wn);for(const a of i){const d=X.getInstance(a);if(!d||d._config.autoClose===!1)continue;const p=t.composedPath(),f=p.includes(d._menu);if(p.includes(d._element)||d._config.autoClose==="inside"&&!f||d._config.autoClose==="outside"&&f||d._menu.contains(t.target)&&(t.type==="keyup"&&t.key===We||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const b={relatedTarget:d._element};t.type==="click"&&(b.clickEvent=t),d._completeHide(b)}}static dataApiKeydownHandler(t){const i=/input|textarea/i.test(t.target.tagName),a=t.key===On,d=[Cn,Fe].includes(t.key);if(!d&&!a||i&&!a)return;t.preventDefault();const p=this.matches(gt)?this:E.prev(this,gt)[0]||E.next(this,gt)[0]||E.findOne(gt,t.delegateTarget.parentNode),f=X.getOrCreateInstance(p);if(d){t.stopPropagation(),f.show(),f._selectMenuItem(t);return}f._isShown()&&(t.stopPropagation(),f.hide(),p.focus())}}g.on(document,xs,gt,X.dataApiKeydownHandler);g.on(document,xs,se,X.dataApiKeydownHandler);g.on(document,$s,X.clearMenus);g.on(document,xn,X.clearMenus);g.on(document,$s,gt,function(r){r.preventDefault(),X.getOrCreateInstance(this).toggle()});q(X);const Be=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ke=".sticky-top",Gt="padding-right",je="margin-right";class Pt{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Gt,i=>i+t),this._setElementAttributes(Be,Gt,i=>i+t),this._setElementAttributes(Ke,je,i=>i-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Gt),this._resetElementAttributes(Be,Gt),this._resetElementAttributes(Ke,je)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,a){const d=this.getWidth(),p=f=>{if(f!==this._element&&window.innerWidth>f.clientWidth+d)return;this._saveInitialAttribute(f,i);const b=window.getComputedStyle(f).getPropertyValue(i);f.style.setProperty(i,`${a(Number.parseFloat(b))}px`)};this._applyManipulationCallback(t,p)}_saveInitialAttribute(t,i){const a=t.style.getPropertyValue(i);a&&z.setDataAttribute(t,i,a)}_resetElementAttributes(t,i){const a=d=>{const p=z.getDataAttribute(d,i);if(p===null){d.style.removeProperty(i);return}z.removeDataAttribute(d,i),d.style.setProperty(i,p)};this._applyManipulationCallback(t,a)}_applyManipulationCallback(t,i){if(et(t)){i(t);return}for(const a of E.find(t,this._element))i(a)}}const ks="backdrop",to="fade",qe="show",Ue=`mousedown.coreui.${ks}`,eo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},so={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $e extends Ht{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return eo}static get DefaultType(){return so}static get NAME(){return ks}show(t){if(!this._config.isVisible){j(t);return}this._append();const i=this._getElement();this._config.isAnimated&&Vt(i),i.classList.add(qe),this._emulateAnimation(()=>{j(t)})}hide(t){if(!this._config.isVisible){j(t);return}this._getElement().classList.remove(qe),this._emulateAnimation(()=>{this.dispose(),j(t)})}dispose(){this._isAppended&&(g.off(this._element,Ue),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(to),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=at(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),g.on(t,Ue,()=>{j(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){bs(t,this._getElement(),this._config.isAnimated)}}const io="focustrap",no="coreui.focustrap",oe=`.${no}`,oo=`focusin${oe}`,ao=`keydown.tab${oe}`,ro="Tab",lo="forward",Ye="backward",co={autofocus:!0,trapElement:null},ho={autofocus:"boolean",trapElement:"element"};class Rs extends Ht{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return co}static get DefaultType(){return ho}static get NAME(){return io}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),g.off(document,oe),g.on(document,oo,t=>this._handleFocusin(t)),g.on(document,ao,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,g.off(document,oe))}_handleFocusin(t){const{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;const a=E.focusableChildren(i);a.length===0?i.focus():this._lastTabNavDirection===Ye?a[a.length-1].focus():a[0].focus()}_handleKeydown(t){t.key===ro&&(this._lastTabNavDirection=t.shiftKey?Ye:lo)}}const uo="modal",go="coreui.modal",Q=`.${go}`,po=".data-api",fo="Escape",mo=`hide${Q}`,_o=`hidePrevented${Q}`,Ps=`hidden${Q}`,Vs=`show${Q}`,Eo=`shown${Q}`,vo=`resize${Q}`,To=`click.dismiss${Q}`,bo=`mousedown.dismiss${Q}`,wo=`keydown.dismiss${Q}`,Ao=`click${Q}${po}`,ze="modal-open",yo="fade",Ge="show",pe="modal-static",No=".modal.show",So=".modal-dialog",Oo=".modal-body",Co='[data-coreui-toggle="modal"]',Do={backdrop:!0,focus:!0,keyboard:!0},Lo={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class mt extends Y{constructor(t,i){super(t,i),this._dialog=E.findOne(So,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pt,this._addEventListeners()}static get Default(){return Do}static get DefaultType(){return Lo}static get NAME(){return uo}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||g.trigger(this._element,Vs,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ze),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||g.trigger(this._element,mo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ge),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])g.off(t,Q);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $e({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Rs({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=E.findOne(Oo,this._dialog);i&&(i.scrollTop=0),Vt(this._element),this._element.classList.add(Ge);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,g.trigger(this._element,Eo,{relatedTarget:t})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){g.on(this._element,wo,t=>{if(t.key===fo){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),g.on(window,vo,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),g.on(this._element,bo,t=>{g.one(this._element,To,i=>{if(!(this._element!==t.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ze),this._resetAdjustments(),this._scrollBar.reset(),g.trigger(this._element,Ps)})}_isAnimated(){return this._element.classList.contains(yo)}_triggerBackdropTransition(){if(g.trigger(this._element,_o).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(pe)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(pe),this._queueCallback(()=>{this._element.classList.remove(pe),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),a=i>0;if(a&&!t){const d=G()?"paddingLeft":"paddingRight";this._element.style[d]=`${i}px`}if(!a&&t){const d=G()?"paddingRight":"paddingLeft";this._element.style[d]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){const a=mt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t](i)}})}}g.on(document,Ao,Co,function(r){const t=E.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),g.one(t,Vs,d=>{d.defaultPrevented||g.one(t,Ps,()=>{It(this)&&this.focus()})});const i=E.findOne(No);i&&mt.getInstance(i).hide(),mt.getOrCreateInstance(t).toggle(this)});ae(mt);q(mt);const Io="navigation",De="coreui.navigation",Hs=`.${De}`,Ws=".data-api",Xe={activeLinksExact:!0,groupsAutoCollapse:!0},Mo={activeLinksExact:"boolean",groupsAutoCollapse:"(string|boolean)"},Qe="active",ut="show",$o="nav-group",Je="nav-group-toggle",xo=`click${Hs}${Ws}`,ko=`load${Hs}${Ws}`,Ze=".nav-group",fe=".nav-group-items",ts=".nav-group-toggle",Ro=".nav-link",Po='[data-coreui="navigation"]';class Dt extends Y{constructor(t,i){super(t),this._config=this._getConfig(i),this._setActiveLink(),this._addEventListeners(),te.set(t,De,this)}static get Default(){return Xe}static get DATA_KEY(){return De}static get DefaultType(){return Mo}static get NAME(){return Io}_getConfig(t){return t={...Xe,...z.getDataAttributes(this._element),...typeof t=="object"?t:{}},t}_setActiveLink(){for(const t of Array.from(this._element.querySelectorAll(Ro))){if(t.classList.contains(Je))continue;let i=String(window.location);const a=/\?.*=/,d=/\?./,p=/#./;(a.test(i)||d.test(i))&&(i=i.split("?")[0]),p.test(i)&&(i=i.split("#")[0]),this._config.activeLinksExact&&t.href===i&&(t.classList.add(Qe),Array.from(this._getParents(t,Ze)).forEach(f=>{f.classList.add(ut),f.setAttribute("aria-expanded",!0)})),!this._config.activeLinksExact&&t.href.startsWith(i)&&(t.classList.add(Qe),Array.from(this._getParents(t,Ze)).forEach(f=>{f.classList.add(ut),f.setAttribute("aria-expanded",!0)}))}}_getParents(t,i){const a=[];for(;t&&t!==document;t=t.parentNode)i?t.matches(i)&&a.push(t):a.push(t);return a}_getAllSiblings(t,i){const a=[];t=t.parentNode.firstChild;do t.nodeType!==3&&t.nodeType!==8&&(!i||i(t))&&a.push(t);while(t=t.nextSibling);return a}_getChildren(t,i){const a=[];for(;t;t=t.nextSibling)t.nodeType===1&&t!==i&&a.push(t);return a}_getSiblings(t,i){return this._getChildren(t.parentNode.firstChild,t).filter(i)}_slideDown(t){t.style.height="auto";const i=t.clientHeight;t.style.height="0px",setTimeout(()=>{t.style.height=`${i}px`},0),this._queueCallback(()=>{t.style.height="auto"},t,!0)}_slideUp(t,i){const a=t.clientHeight;t.style.height=`${a}px`,setTimeout(()=>{t.style.height="0px"},0),this._queueCallback(()=>{typeof i=="function"&&i()},t,!0)}_toggleGroupItems(t){let i=t.target;i.classList.contains(Je)||(i=i.closest(ts));const a=d=>!!(d.classList.contains($o)&&d.classList.contains(ut));if(this._config.groupsAutoCollapse===!0)for(const d of this._getSiblings(i.parentNode,a))this._slideUp(E.findOne(fe,d),()=>{d.classList.remove(ut),d.setAttribute("aria-expanded",!1)});if(i.parentNode.classList.contains(ut)){this._slideUp(E.findOne(fe,i.parentNode),()=>{i.parentNode.classList.remove(ut),i.parentNode.setAttribute("aria-expanded",!1)});return}i.parentNode.classList.add(ut),i.parentNode.setAttribute("aria-expanded",!0),this._slideDown(E.findOne(fe,i.parentNode))}_addEventListeners(){g.on(this._element,xo,ts,t=>{t.preventDefault(),this._toggleGroupItems(t,this)})}static navigationInterface(t,i){const a=Dt.getOrCreateInstance(t,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i]()}}static jQueryInterface(t){return this.each(function(){Dt.navigationInterface(this,t)})}}g.on(window,ko,()=>{for(const r of Array.from(document.querySelectorAll(Po)))Dt.navigationInterface(r)});q(Dt);const Vo="offcanvas",Ho="coreui.offcanvas",it=`.${Ho}`,Fs=".data-api",Wo=`load${it}${Fs}`,Fo="Escape",es="show",ss="showing",is="hiding",Bo="offcanvas-backdrop",Bs=".offcanvas.show",Ko=`show${it}`,jo=`shown${it}`,qo=`hide${it}`,ns=`hidePrevented${it}`,Ks=`hidden${it}`,Uo=`resize${it}`,Yo=`click${it}${Fs}`,zo=`keydown.dismiss${it}`,Go='[data-coreui-toggle="offcanvas"]',Xo={backdrop:!0,keyboard:!0,scroll:!1},Qo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class st extends Y{constructor(t,i){super(t,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Xo}static get DefaultType(){return Qo}static get NAME(){return Vo}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||g.trigger(this._element,Ko,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pt().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ss);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(es),this._element.classList.remove(ss),g.trigger(this._element,jo,{relatedTarget:t})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||g.trigger(this._element,qo).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(is),this._backdrop.hide();const i=()=>{this._element.classList.remove(es,is),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pt().reset(),g.trigger(this._element,Ks)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){g.trigger(this._element,ns);return}this.hide()},i=!!this._config.backdrop;return new $e({className:Bo,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new Rs({trapElement:this._element})}_addEventListeners(){g.on(this._element,zo,t=>{if(t.key===Fo){if(!this._config.keyboard){g.trigger(this._element,ns);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const i=st.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}g.on(document,Yo,Go,function(r){const t=E.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),rt(this))return;g.one(t,Ks,()=>{It(this)&&this.focus()});const i=E.findOne(Bs);i&&i!==t&&st.getInstance(i).hide(),st.getOrCreateInstance(t).toggle(this)});g.on(window,Wo,()=>{for(const r of E.find(Bs))st.getOrCreateInstance(r).show()});g.on(window,Uo,()=>{for(const r of E.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(r).position!=="fixed"&&st.getOrCreateInstance(r).hide()});ae(st);q(st);const Jo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zo=/^aria-[\w-]*$/i,ta=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ea=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,sa=(r,t)=>{const i=r.nodeName.toLowerCase();return t.includes(i)?Jo.has(i)?!!(ta.test(r.nodeValue)||ea.test(r.nodeValue)):!0:t.filter(a=>a instanceof RegExp).some(a=>a.test(i))},js={"*":["class","dir","id","lang","role",Zo],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function ia(r,t,i){if(!r.length)return r;if(i&&typeof i=="function")return i(r);const d=new window.DOMParser().parseFromString(r,"text/html"),p=[].concat(...d.body.querySelectorAll("*"));for(const f of p){const b=f.nodeName.toLowerCase();if(!Object.keys(t).includes(b)){f.remove();continue}const L=[].concat(...f.attributes),P=[].concat(t["*"]||[],t[b]||[]);for(const N of L)sa(N,P)||f.removeAttribute(N.nodeName)}return d.body.innerHTML}const na="TemplateFactory",oa={allowList:js,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},aa={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ra={entry:"(string|element|function|null)",selector:"(string|element)"};class la extends Ht{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return oa}static get DefaultType(){return aa}static get NAME(){return na}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[d,p]of Object.entries(this._config.content))this._setContent(t,p,d);const i=t.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&i.classList.add(...a.split(" ")),i}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[i,a]of Object.entries(t))super._typeCheckConfig({selector:i,entry:a},ra)}_setContent(t,i,a){const d=E.findOne(a,t);if(d){if(i=this._resolvePossibleFunction(i),!i){d.remove();return}if(et(i)){this._putElementInTemplate(at(i),d);return}if(this._config.html){d.innerHTML=this._maybeSanitize(i);return}d.textContent=i}}_maybeSanitize(t){return this._config.sanitize?ia(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return j(t,[this])}_putElementInTemplate(t,i){if(this._config.html){i.innerHTML="",i.append(t);return}i.textContent=t.textContent}}const ca="tooltip",da=new Set(["sanitize","allowList","sanitizeFn"]),me="fade",ha="modal",Xt="show",ua=".tooltip-inner",os=`.${ha}`,as="hide.coreui.modal",Rt="hover",_e="focus",ga="click",pa="manual",fa="hide",ma="hidden",_a="show",Ea="shown",va="inserted",Ta="click",ba="focusin",wa="focusout",Aa="mouseenter",ya="mouseleave",Na={AUTO:"auto",TOP:"top",RIGHT:G()?"left":"right",BOTTOM:"bottom",LEFT:G()?"right":"left"},Sa={allowList:js,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Oa={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ct extends Y{constructor(t,i){if(typeof ps>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Sa}static get DefaultType(){return Oa}static get NAME(){return ca}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),g.off(this._element.closest(os),as,this._hideModalHandler),this._element.getAttribute("data-coreui-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-coreui-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=g.trigger(this._element,this.constructor.eventName(_a)),a=(vs(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!a)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:p}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(p.append(d),g.trigger(this._element,this.constructor.eventName(va))),this._popper=this._createPopper(d),d.classList.add(Xt),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))g.on(b,"mouseover",ie);const f=()=>{g.trigger(this._element,this.constructor.eventName(Ea)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(f,this.tip,this._isAnimated())}hide(){if(!this._isShown()||g.trigger(this._element,this.constructor.eventName(fa)).defaultPrevented)return;if(this._getTipElement().classList.remove(Xt),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))g.off(d,"mouseover",ie);this._activeTrigger[ga]=!1,this._activeTrigger[_e]=!1,this._activeTrigger[Rt]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),g.trigger(this._element,this.constructor.eventName(ma)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const i=this._getTemplateFactory(t).toHtml();if(!i)return null;i.classList.remove(me,Xt),i.classList.add(`bs-${this.constructor.NAME}-auto`);const a=ii(this.constructor.NAME).toString();return i.setAttribute("id",a),this._isAnimated()&&i.classList.add(me),i}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new la({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ua]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-coreui-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(me)}_isShown(){return this.tip&&this.tip.classList.contains(Xt)}_createPopper(t){const i=j(this._config.placement,[this,t,this._element]),a=Na[i.toUpperCase()];return fs(this._element,t,this._getPopperConfig(a))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_resolvePossibleFunction(t){return j(t,[this._element])}_getPopperConfig(t){const i={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...i,...j(this._config.popperConfig,[i])}}_setListeners(){const t=this._config.trigger.split(" ");for(const i of t)if(i==="click")g.on(this._element,this.constructor.eventName(Ta),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(i!==pa){const a=i===Rt?this.constructor.eventName(Aa):this.constructor.eventName(ba),d=i===Rt?this.constructor.eventName(ya):this.constructor.eventName(wa);g.on(this._element,a,this._config.selector,p=>{const f=this._initializeOnDelegatedTarget(p);f._activeTrigger[p.type==="focusin"?_e:Rt]=!0,f._enter()}),g.on(this._element,d,this._config.selector,p=>{const f=this._initializeOnDelegatedTarget(p);f._activeTrigger[p.type==="focusout"?_e:Rt]=f._element.contains(p.relatedTarget),f._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},g.on(this._element.closest(os),as,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-coreui-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,i){clearTimeout(this._timeout),this._timeout=setTimeout(t,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const i=z.getDataAttributes(this._element);for(const a of Object.keys(i))da.has(a)&&delete i[a];return t={...i,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:at(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[i,a]of Object.entries(this._config))this.constructor.Default[i]!==a&&(t[i]=a);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const i=ct.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}q(ct);const Ca="popover",Da=".popover-header",La=".popover-body",Ia={...ct.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ma={...ct.DefaultType,content:"(null|string|element|function)"};class re extends ct{static get Default(){return Ia}static get DefaultType(){return Ma}static get NAME(){return Ca}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Da]:this._getTitle(),[La]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const i=re.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}q(re);const $a="scrollspy",xa="coreui.scrollspy",xe=`.${xa}`,ka=".data-api",Ra=`activate${xe}`,rs=`click${xe}`,Pa=`load${xe}${ka}`,Va="dropdown-item",yt="active",Ha='[data-coreui-spy="scroll"]',Ee="[href]",Wa=".nav, .list-group",ls=".nav-link",Fa=".nav-item",Ba=".list-group-item",Ka=`${ls}, ${Fa} > ${ls}, ${Ba}`,ja=".dropdown",qa=".dropdown-toggle",Ua={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ya={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kt extends Y{constructor(t,i){super(t,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ua}static get DefaultType(){return Ya}static get NAME(){return $a}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=at(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(i=>Number.parseFloat(i))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(g.off(this._config.target,rs),g.on(this._config.target,rs,Ee,t=>{const i=this._observableSections.get(t.target.hash);if(i){t.preventDefault();const a=this._rootElement||window,d=i.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:d,behavior:"smooth"});return}a.scrollTop=d}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),t)}_observerCallback(t){const i=f=>this._targetLinks.get(`#${f.target.id}`),a=f=>{this._previousScrollData.visibleEntryTop=f.target.offsetTop,this._process(i(f))},d=(this._rootElement||document.documentElement).scrollTop,p=d>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=d;for(const f of t){if(!f.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(f));continue}const b=f.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(p&&b){if(a(f),!d)return;continue}!p&&!b&&a(f)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=E.find(Ee,this._config.target);for(const i of t){if(!i.hash||rt(i))continue;const a=E.findOne(i.hash,this._element);It(a)&&(this._targetLinks.set(i.hash,i),this._observableSections.set(i.hash,a))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(yt),this._activateParents(t),g.trigger(this._element,Ra,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Va)){E.findOne(qa,t.closest(ja)).classList.add(yt);return}for(const i of E.parents(t,Wa))for(const a of E.prev(i,Ka))a.classList.add(yt)}_clearActiveClass(t){t.classList.remove(yt);const i=E.find(`${Ee}.${yt}`,t);for(const a of i)a.classList.remove(yt)}static jQueryInterface(t){return this.each(function(){const i=Kt.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}g.on(window,Pa,()=>{for(const r of E.find(Ha))Kt.getOrCreateInstance(r)});q(Kt);const za="sidebar",Ga="coreui.sidebar",xt=`.${Ga}`,qs=".data-api",cs={},Xa={},Qa="sidebar-backdrop",ve="hide",Te="show",be="sidebar-narrow",Ja="sidebar-overlaid",we="sidebar-narrow-unfoldable",Za=`hide${xt}`,tr=`hidden${xt}`,er="resize",sr=`show${xt}`,ir=`shown${xt}`,Qt=`click${xt}${qs}`,nr=`load${xt}${qs}`,or='[data-coreui-close="sidebar"]',ar="[data-coreui-toggle]",Us=".sidebar";class Lt extends Y{constructor(t,i){super(t),this._config=this._getConfig(i),this._show=this._isVisible(),this._mobile=this._isMobile(),this._overlaid=this._isOverlaid(),this._narrow=this._isNarrow(),this._unfoldable=this._isUnfoldable(),this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get Default(){return cs}static get DefaultType(){return Xa}static get NAME(){return za}show(){g.trigger(this._element,sr),this._element.classList.contains(ve)&&this._element.classList.remove(ve),this._isMobile()&&(this._element.classList.add(Te),this._backdrop.show(),new Pt().hide());const t=()=>{this._isVisible()===!0&&(this._show=!0,(this._isMobile()||this._isOverlaid())&&this._addClickOutListener(),g.trigger(this._element,ir))};this._queueCallback(t,this._element,!0)}hide(){g.trigger(this._element,Za),this._element.classList.contains(Te)&&this._element.classList.remove(Te),this._isMobile()?(this._backdrop.hide(),new Pt().reset()):this._element.classList.add(ve);const t=()=>{this._isVisible()===!1&&(this._show=!1,(this._isMobile()||this._isOverlaid())&&this._removeClickOutListener(),g.trigger(this._element,tr))};this._queueCallback(t,this._element,!0)}toggle(){if(this._isVisible()){this.hide();return}this.show()}narrow(){this._isMobile()||(this._addClassName(be),this._narrow=!0)}unfoldable(){this._isMobile()||(this._addClassName(we),this._unfoldable=!0)}reset(){this._isMobile()||(this._narrow&&(this._element.classList.remove(be),this._narrow=!1),this._unfoldable&&(this._element.classList.remove(we),this._unfoldable=!1))}toggleNarrow(){if(this._narrow){this.reset();return}this.narrow()}toggleUnfoldable(){if(this._unfoldable){this.reset();return}this.unfoldable()}_getConfig(t){return t={...cs,...z.getDataAttributes(this._element),...typeof t=="object"?t:{}},t}_initializeBackDrop(){return new $e({className:Qa,isVisible:this._isMobile(),isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_isMobile(){return/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())}_isNarrow(){return this._element.classList.contains(be)}_isOverlaid(){return this._element.classList.contains(Ja)}_isUnfoldable(){return this._element.classList.contains(we)}_isVisible(){const t=this._element.getBoundingClientRect();return t.top>=0&&t.left>=0&&Math.floor(t.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(t.right)<=(window.innerWidth||document.documentElement.clientWidth)}_addClassName(t){this._element.classList.add(t)}_clickOutListener(t,i){t.target.closest(Us)===null&&(t.preventDefault(),t.stopPropagation(),i.hide())}_addClickOutListener(){g.on(document,Qt,t=>{this._clickOutListener(t,this)})}_removeClickOutListener(){g.off(document,Qt)}_addEventListeners(){this._mobile&&this._show&&this._addClickOutListener(),this._overlaid&&this._show&&this._addClickOutListener(),g.on(this._element,Qt,ar,t=>{t.preventDefault();const i=z.getDataAttribute(t.target,"toggle");i==="narrow"&&this.toggleNarrow(),i==="unfoldable"&&this.toggleUnfoldable()}),g.on(this._element,Qt,or,t=>{t.preventDefault(),this.hide()}),g.on(window,er,()=>{this._isMobile()&&this._isVisible()&&(this.hide(),this._backdrop=this._initializeBackDrop())})}static sidebarInterface(t,i){const a=Lt.getOrCreateInstance(t,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i]()}}static jQueryInterface(t){return this.each(function(){Lt.sidebarInterface(this,t)})}}g.on(window,nr,()=>{for(const r of Array.from(document.querySelectorAll(Us)))Lt.sidebarInterface(r)});q(Lt);const rr="tab",lr="coreui.tab",vt=`.${lr}`,cr=`hide${vt}`,dr=`hidden${vt}`,hr=`show${vt}`,ur=`shown${vt}`,gr=`click${vt}`,pr=`keydown${vt}`,fr=`load${vt}`,mr="ArrowLeft",ds="ArrowRight",_r="ArrowUp",hs="ArrowDown",pt="active",us="fade",Ae="show",Er="dropdown",vr=".dropdown-toggle",Tr=".dropdown-menu",ye=":not(.dropdown-toggle)",br='.list-group, .nav, [role="tablist"]',wr=".nav-item, .list-group-item",Ar=`.nav-link${ye}, .list-group-item${ye}, [role="tab"]${ye}`,Ys='[data-coreui-toggle="tab"], [data-coreui-toggle="pill"], [data-coreui-toggle="list"]',Ne=`${Ar}, ${Ys}`,yr=`.${pt}[data-coreui-toggle="tab"], .${pt}[data-coreui-toggle="pill"], .${pt}[data-coreui-toggle="list"]`;class _t extends Y{constructor(t){super(t),this._parent=this._element.closest(br),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),g.on(this._element,pr,i=>this._keydown(i)))}static get NAME(){return rr}show(){const t=this._element;if(this._elemIsActive(t))return;const i=this._getActiveElem(),a=i?g.trigger(i,cr,{relatedTarget:t}):null;g.trigger(t,hr,{relatedTarget:i}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,i){if(!t)return;t.classList.add(pt),this._activate(E.getElementFromSelector(t));const a=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Ae);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),g.trigger(t,ur,{relatedTarget:i})};this._queueCallback(a,t,t.classList.contains(us))}_deactivate(t,i){if(!t)return;t.classList.remove(pt),t.blur(),this._deactivate(E.getElementFromSelector(t));const a=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Ae);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),g.trigger(t,dr,{relatedTarget:i})};this._queueCallback(a,t,t.classList.contains(us))}_keydown(t){if(![mr,ds,_r,hs].includes(t.key))return;t.stopPropagation(),t.preventDefault();const i=[ds,hs].includes(t.key),a=Le(this._getChildren().filter(d=>!rt(d)),t.target,i,!0);a&&(a.focus({preventScroll:!0}),_t.getOrCreateInstance(a).show())}_getChildren(){return E.find(Ne,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,i){this._setAttributeIfNotExists(t,"role","tablist");for(const a of i)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const i=this._elemIsActive(t),a=this._getOuterElement(t);t.setAttribute("aria-selected",i),a!==t&&this._setAttributeIfNotExists(a,"role","presentation"),i||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const i=E.getElementFromSelector(t);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,i){const a=this._getOuterElement(t);if(!a.classList.contains(Er))return;const d=(p,f)=>{const b=E.findOne(p,a);b&&b.classList.toggle(f,i)};d(vr,pt),d(Tr,Ae),a.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(t,i,a){t.hasAttribute(i)||t.setAttribute(i,a)}_elemIsActive(t){return t.classList.contains(pt)}_getInnerElement(t){return t.matches(Ne)?t:E.findOne(Ne,t)}_getOuterElement(t){return t.closest(wr)||t}static jQueryInterface(t){return this.each(function(){const i=_t.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}g.on(document,gr,Ys,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!rt(this)&&_t.getOrCreateInstance(this).show()});g.on(window,fr,()=>{for(const r of E.find(yr))_t.getOrCreateInstance(r)});q(_t);const Nr="toast",Sr="coreui.toast",dt=`.${Sr}`,Or=`mouseover${dt}`,Cr=`mouseout${dt}`,Dr=`focusin${dt}`,Lr=`focusout${dt}`,Ir=`hide${dt}`,Mr=`hidden${dt}`,$r=`show${dt}`,xr=`shown${dt}`,kr="fade",gs="hide",Jt="show",Zt="showing",Rr={animation:"boolean",autohide:"boolean",delay:"number"},Pr={animation:!0,autohide:!0,delay:5e3};class jt extends Y{constructor(t,i){super(t,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pr}static get DefaultType(){return Rr}static get NAME(){return Nr}show(){if(g.trigger(this._element,$r).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(kr);const i=()=>{this._element.classList.remove(Zt),g.trigger(this._element,xr),this._maybeScheduleHide()};this._element.classList.remove(gs),Vt(this._element),this._element.classList.add(Jt,Zt),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||g.trigger(this._element,Ir).defaultPrevented)return;const i=()=>{this._element.classList.add(gs),this._element.classList.remove(Zt,Jt),g.trigger(this._element,Mr)};this._element.classList.add(Zt),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Jt),super.dispose()}isShown(){return this._element.classList.contains(Jt)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,i){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const a=t.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){g.on(this._element,Or,t=>this._onInteraction(t,!0)),g.on(this._element,Cr,t=>this._onInteraction(t,!1)),g.on(this._element,Dr,t=>this._onInteraction(t,!0)),g.on(this._element,Lr,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const i=jt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}ae(jt);q(jt);const Vr=Object.freeze(Object.defineProperty({__proto__:null,Alert:Wt,Button:Ft,Carousel:$t,Collapse:ft,Dropdown:X,Modal:mt,Navigation:Dt,Offcanvas:st,Popover:re,ScrollSpy:Kt,Sidebar:Lt,Tab:_t,Toast:jt,Tooltip:ct},Symbol.toStringTag,{value:"Module"}));var zs={exports:{}};(function(r,t){(function(i,a){r.exports=a()})(Qs,function(){function i(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function a(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?i(Object(n),!0).forEach(function(o){d(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function d(e,s,n){return(s=function(o){var l=function(h,c){if(typeof h!="object"||h===null)return h;var u=h[Symbol.toPrimitive];if(u!==void 0){var m=u.call(h,c||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(h)}(o,"string");return typeof l=="symbol"?l:String(l)}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}const p=(e,s,n,o)=>(e=""+e,s=""+s,o&&(e=e.trim(),s=s.trim()),n?e==s:e.toLowerCase()==s.toLowerCase()),f=(e,s)=>e&&Array.isArray(e)&&e.map(n=>b(n,s));function b(e,s){var n,o={};for(n in e)s.indexOf(n)<0&&(o[n]=e[n]);return o}function L(e){var s=document.createElement("div");return e.replace(/\&#?[0-9a-z]+;/gi,function(n){return s.innerHTML=n,s.innerText})}function P(e){return new DOMParser().parseFromString(e.trim(),"text/html").body.firstElementChild}function N(e,s){for(s=s||"previous";e=e[s+"Sibling"];)if(e.nodeType==3)return e}function $(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function k(e){var s=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&s!="Array"&&s!="Function"&&s!="RegExp"&&s!="HTMLUnknownElement"}function D(e,s,n){function o(l,h){for(var c in h)if(h.hasOwnProperty(c)){if(k(h[c])){k(l[c])?o(l[c],h[c]):l[c]=Object.assign({},h[c]);continue}if(Array.isArray(h[c])){l[c]=Object.assign([],h[c]);continue}l[c]=h[c]}}return e instanceof Object||(e={}),o(e,s),n&&o(e,n),e}function Tt(){const e=[],s={};for(let n of arguments)for(let o of n)k(o)?s[o.value]||(e.push(o),s[o.value]=1):e.includes(o)||e.push(o);return e}function U(e){return String.prototype.normalize?typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var v=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function _(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function S(e){return e&&e.classList&&e.classList.contains(this.settings.classNames.tag)}function A(e,s){var n=window.getSelection();return s=s||n.getRangeAt(0),typeof e=="string"&&(e=document.createTextNode(e)),s&&(s.deleteContents(),s.insertNode(e)),e}function w(e,s,n){return e?(s&&(e.__tagifyTagData=n?s:D({},e.__tagifyTagData||{},s)),e.__tagifyTagData):(console.warn("tag element doesn't exist",e,s),s)}var I={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:""},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function H(){this.dropdown={};for(let e in this._dropdown)this.dropdown[e]=typeof this._dropdown[e]=="function"?this._dropdown[e].bind(this):this._dropdown[e];this.dropdown.refs()}var B={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(e){var s,n,o,l=this.settings,h=l.mode=="mix"&&!l.enforceWhitelist,c=!l.whitelist||!l.whitelist.length,u=l.dropdown.position=="manual";if(e=e===void 0?this.state.inputText:e,!(c&&!h&&!l.templates.dropdownItemNoMatch||l.dropdown.enable===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),l.templates.dropdownItemNoMatch&&(o=l.templates.dropdownItemNoMatch.call(this,{value:e}))),!o){if(this.suggestedListItems.length)e&&h&&!this.state.editing.scope&&!p(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!h||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}n=""+(k(s=this.suggestedListItems[0])?s.value:s),l.autoComplete&&n&&n.indexOf(e)==0&&this.input.autocomplete.suggest.call(this,s)}this.dropdown.fill(o),l.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(l.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),u||setTimeout(()=>{this.dropdown.position(),this.dropdown.render()}),setTimeout(()=>{this.trigger("dropdown:show",this.DOM.dropdown)})}},hide(e){var s=this.DOM,n=s.scope,o=s.dropdown,l=this.settings.dropdown.position=="manual"&&!e;if(o&&document.body.contains(o)&&!l)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),n.setAttribute("aria-expanded",!1),o.parentNode.removeChild(o),setTimeout(()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",o),this},toggle(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},render(){var e,s,n,o=(e=this.DOM.dropdown,(n=e.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),s=n.clientHeight,n.parentNode.removeChild(n),s),l=this.settings;return typeof l.dropdown.enabled=="number"&&l.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(l.classNames.dropdownInital),this.dropdown.position(o),l.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(()=>this.DOM.dropdown.classList.remove(l.classNames.dropdownInital))),this):this},fill(e){e=typeof e=="string"?e:this.dropdown.createListHTML(e||this.suggestedListItems);var s,n=this.settings.templates.dropdownContent.call(this,e);this.DOM.dropdown.content.innerHTML=(s=n)?s.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,(o,l)=>l||" "):""},fillHeaderFooter(){var e=this.dropdown.filterListItems(this.state.dropdown.query),s=this.parseTemplate("dropdownHeader",[e]),n=this.parseTemplate("dropdownFooter",[e]),o=this.dropdown.getHeaderRef(),l=this.dropdown.getFooterRef();s&&(o==null||o.parentNode.replaceChild(s,o)),n&&(l==null||l.parentNode.replaceChild(n,l))},refilter(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(e){var s=this.settings.dropdown;if(s.position!="manual"){var n,o,l,h,c,u,m=this.DOM.dropdown,T=s.placeAbove,O=s.appendTarget===document.body,y=O?window.pageYOffset:s.appendTarget.scrollTop,C=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,R=C.clientHeight,x=Math.max(C.clientWidth||0,window.innerWidth||0)>480?s.position:"all",V=this.DOM[x=="input"?"input":"scope"];if(e=e||m.clientHeight,this.state.dropdown.visible){if(x=="text"?(l=(n=function(){const M=document.getSelection();if(M.rangeCount){const F=M.getRangeAt(0),W=F.startContainer,tt=F.startOffset;let K,Ut;if(tt>0)return Ut=document.createRange(),Ut.setStart(W,tt-1),Ut.setEnd(W,tt),K=Ut.getBoundingClientRect(),{left:K.right,top:K.top,bottom:K.bottom};if(W.getBoundingClientRect)return W.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,o=n.top,h=n.left,c="auto"):(u=function(M){for(var F=0,W=0;M&&M!=C;)F+=M.offsetLeft||0,W+=M.offsetTop||0,M=M.parentNode;return{left:F,top:W}}(s.appendTarget),o=(n=V.getBoundingClientRect()).top-u.top,l=n.bottom-1-u.top,h=n.left-u.left,c=n.width+"px"),!O){let M=function(){for(var F=0,W=s.appendTarget.parentNode;W;)F+=W.scrollTop||0,W=W.parentNode;return F}();o+=M,l+=M}o=Math.floor(o),l=Math.ceil(l),T=T===void 0?R-n.bottom<e:T,m.style.cssText="left:"+(h+window.pageXOffset)+"px; width:"+c+";"+(T?"top: "+(o+y)+"px":"top: "+(l+y)+"px"),m.setAttribute("placement",T?"top":"bottom"),m.setAttribute("position",x)}}},events:{binding(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var s=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:s.onKeyDown.bind(this),onMouseOver:s.onMouseOver.bind(this),onMouseLeave:s.onMouseLeave.bind(this),onClick:s.onClick.bind(this),onScroll:s.onScroll.bind(this)},o=e?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[o]("scroll",n.position,!0),window[o]("resize",n.position),window[o]("keydown",n.onKeyDown)),this.DOM.dropdown[o]("mouseover",n.onMouseOver),this.DOM.dropdown[o]("mouseleave",n.onMouseLeave),this.DOM.dropdown[o]("mousedown",n.onClick),this.DOM.dropdown.content[o]("scroll",n.onScroll)},callbacks:{onKeyDown(e){if(this.state.hasFocus&&!this.state.composing){var s=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),n=this.dropdown.getSuggestionDataByNode(s);switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":e.preventDefault();var o=this.dropdown.getAllSuggestionsRefs(),l=e.key=="ArrowUp"||e.key=="Up";s&&(s=this.dropdown.getNextOrPrevOption(s,!l)),s&&s.matches(this.settings.classNames.dropdownItemSelector)||(s=o[l?o.length-1:0]),this.dropdown.highlightOption(s,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if(this.settings.mode!="mix"&&s&&!this.settings.autoComplete.rightKey&&!this.state.editing){e.preventDefault();var h=this.dropdown.getMappedValue(n);return this.input.autocomplete.set.call(this,h),!1}return!0;case"Enter":e.preventDefault(),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:s}).then(()=>{if(s)return this.dropdown.selectOption(s),s=this.dropdown.getNextOrPrevOption(s,!l),void this.dropdown.highlightOption(s);this.dropdown.hide(),this.settings.mode!="mix"&&this.addTags(this.state.inputText.trim(),!0)}).catch(c=>c);break;case"Backspace":{if(this.settings.mode=="mix"||this.state.editing.scope)return;const c=this.input.raw.call(this);c!=""&&c.charCodeAt(0)!=8203||(this.settings.backspace===!0?this.removeTags():this.settings.backspace=="edit"&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(e){var s=e.target.closest(this.settings.classNames.dropdownItemSelector);s&&this.dropdown.highlightOption(s)},onMouseLeave(e){this.dropdown.highlightOption()},onClick(e){if(e.button==0&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var s=e.target.closest(this.settings.classNames.dropdownItemSelector),n=this.dropdown.getSuggestionDataByNode(s);this.state.actions.selectOption=!0,setTimeout(()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:n,suggestionElm:s}).then(()=>{s?this.dropdown.selectOption(s,e):this.dropdown.hide()}).catch(o=>console.warn(o))}},onScroll(e){var s=e.target,n=s.scrollTop/(s.scrollHeight-s.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},getSuggestionDataByNode(e){var s=e&&e.getAttribute("value");return this.suggestedListItems.find(n=>n.value==s)||null},getNextOrPrevOption(e){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var n=this.dropdown.getAllSuggestionsRefs(),o=n.findIndex(l=>l===e);return s?n[o+1]:n[o-1]},highlightOption(e,s){var n,o=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(o),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(e),this.state.ddItemData=n,this.state.ddItemElm=e,e.classList.add(o),e.setAttribute("aria-selected",!0),s&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption(e,s){var n=this.settings.dropdown,o=n.clearOnSelect,l=n.closeOnSelect;if(!e)return this.addTags(this.state.inputText,!0),void(l&&this.dropdown.hide());s=s||{};var h=e.getAttribute("value"),c=h=="noMatch",u=this.suggestedListItems.find(m=>(m.value??m)==h);this.trigger("dropdown:select",{data:u,elm:e,event:s}),h&&(u||c)?(this.state.editing?this.onEditTagDone(null,D({__isValid:!0},this.normalizeTags([u])[0])):this[this.settings.mode=="mix"?"addMixTags":"addTags"]([u||this.input.raw.call(this)],o),this.DOM.input.parentNode&&(setTimeout(()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),l&&setTimeout(this.dropdown.hide.bind(this)),e.addEventListener("transitionend",()=>{this.dropdown.fillHeaderFooter(),setTimeout(()=>e.remove(),100)},{once:!0}),e.classList.add(this.settings.classNames.dropdownItemHidden))):l&&setTimeout(this.dropdown.hide.bind(this))},selectAll(e){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var s=this.dropdown.filterListItems("");return e||(s=this.state.dropdown.suggestions),this.addTags(s,!0),this},filterListItems(e,s){var n,o,l,h,c,u=this.settings,m=u.dropdown,T=(s=s||{},[]),O=[],y=u.whitelist,C=m.maxItems>=0?m.maxItems:1/0,R=m.searchKeys,x=0;if(!(e=u.mode=="select"&&this.value.length&&this.value[0][u.tagTextProp]==e?"":e)||!R.length)return T=m.includeSelectedTags?y:y.filter(M=>!this.isTagDuplicate(k(M)?M.value:M)),this.state.dropdown.suggestions=T,T.slice(0,C);function V(M,F){return F.toLowerCase().split(" ").every(W=>M.includes(W.toLowerCase()))}for(c=m.caseSensitive?""+e:(""+e).toLowerCase();x<y.length;x++){let M,F;n=y[x]instanceof Object?y[x]:{value:y[x]};let W=Object.keys(n).some(tt=>R.includes(tt))?R:["value"];m.fuzzySearch&&!s.exact?(l=W.reduce((tt,K)=>tt+" "+(n[K]||""),"").toLowerCase().trim(),m.accentedSearch&&(l=U(l),c=U(c)),M=l.indexOf(c)==0,F=l===c,o=V(l,c)):(M=!0,o=W.some(tt=>{var K=""+(n[tt]||"");return m.accentedSearch&&(K=U(K),c=U(c)),m.caseSensitive||(K=K.toLowerCase()),F=K===c,s.exact?K===c:K.indexOf(c)==0})),h=!m.includeSelectedTags&&this.isTagDuplicate(k(n)?n.value:n),o&&!h&&(F&&M?O.push(n):m.sortby=="startsWith"&&M?T.unshift(n):T.push(n))}return this.state.dropdown.suggestions=O.concat(T),typeof m.sortby=="function"?m.sortby(O.concat(T),c):O.concat(T).slice(0,C)},getMappedValue(e){var s=this.settings.dropdown.mapValueTo;return s?typeof s=="function"?s(e):e[s]||e.value:e.value},createListHTML(e){return D([],e).map((s,n)=>{typeof s!="string"&&typeof s!="number"||(s={value:s});var o=this.dropdown.getMappedValue(s);return o=typeof o=="string"?$(o):o,this.settings.templates.dropdownItem.apply(this,[a(a({},s),{},{mappedValue:o}),this])}).join("")}};const J="@yaireo/tagify/";var bt,ht={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},nt={wrapper:(e,s)=>`<tags class="${s.classNames.namespace} ${s.mode?`${s.classNames[s.mode+"Mode"]}`:""} ${e.className}"
                    ${s.readonly?"readonly":""}
                    ${s.disabled?"disabled":""}
                    ${s.required?"required":""}
                    ${s.mode==="select"?"spellcheck='false'":""}
                    tabIndex="-1">
            <span ${!s.readonly&&s.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${s.placeholder||"&#8203;"}" aria-placeholder="${s.placeholder||""}"
                class="${s.classNames.input}"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="${s.mode=="mix"}"></span>
                &#8203;
        </tags>`,tag(e,s){let n=s.settings;return`<tag title="${e.title||e.value}"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="${n.a11y.focusableTags?0:-1}"
                    class="${n.classNames.tag} ${e.class||""}"
                    ${this.getAttributes(e)}>
            <x title='' class="${n.classNames.tagX}" role='button' aria-label='remove tag'></x>
            <div>
                <span class="${n.classNames.tagText}">${e[n.tagTextProp]||e.value}</span>
            </div>
        </tag>`},dropdown(e){var s=e.dropdown,n=s.position=="manual",o=`${e.classNames.dropdown}`;return`<div class="${n?"":o} ${s.classname}" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="${e.classNames.dropdownWrapper}"></div>
                </div>`},dropdownContent(e){var s=this.settings,n=this.state.dropdown.suggestions;return`
            ${s.templates.dropdownHeader.call(this,n)}
            ${e}
            ${s.templates.dropdownFooter.call(this,n)}
        `},dropdownItem(e){return`<div ${this.getAttributes(e)}
                    class='${this.settings.classNames.dropdownItem} ${e.class?e.class:""}'
                    tabindex="0"
                    role="option">${e.mappedValue||e.value}</div>`},dropdownHeader(e){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(e){var s=e.length-this.settings.dropdown.maxItems;return s>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">
                ${s} more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null},Z={customBinding(){this.customEventsList.forEach(e=>{this.on(e,this.settings.callbacks[e])})},binding(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var s,n=this.events.callbacks,o=e?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!e){for(var l in this.state.mainEvents=e,e&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),s=this.listeners.main=this.listeners.main||{focus:["input",n.onFocusBlur.bind(this)],keydown:["input",n.onKeydown.bind(this)],click:["scope",n.onClickScope.bind(this)],dblclick:["scope",n.onDoubleClickScope.bind(this)],paste:["input",n.onPaste.bind(this)],drop:["input",n.onDrop.bind(this)],compositionstart:["input",n.onCompositionStart.bind(this)],compositionend:["input",n.onCompositionEnd.bind(this)]})this.DOM[s[l][0]][o](l,s[l][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(n.observeOriginalInputValue.bind(this),500);var h=this.listeners.main.inputMutationObserver||new MutationObserver(n.onInputDOMChange.bind(this));h.disconnect(),this.settings.mode=="mix"&&h.observe(this.DOM.input,{childList:!0})}},bindGlobal(e){var s,n=this.events.callbacks,o=e?"removeEventListener":"addEventListener";if(this.listeners&&(e||!this.listeners.global))for(s of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:n.onFocusBlur.bind(this)},{type:"click",target:document,cb:n.onClickAnywhere.bind(this)}],this.listeners.global))s.target[o](s.type,s.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(e){var O,y;var s=this.settings,n=e.target?this.trim(e.target.textContent):"",o=(y=(O=this.value)==null?void 0:O[0])==null?void 0:y[s.tagTextProp],l=e.type,h=s.dropdown.enabled>=0,c={relatedTarget:e.relatedTarget},u=this.state.actions.selectOption&&(h||!s.dropdown.closeOnSelect),m=this.state.actions.addNew&&h,T=e.relatedTarget&&S.call(this,e.relatedTarget)&&this.DOM.scope.contains(e.relatedTarget);if(l=="blur"){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),s.onChangeAfterBlur&&this.triggerChangeEvent()}if(!u&&!m)if(this.state.hasFocus=l=="focus"&&+new Date,this.toggleFocusClass(this.state.hasFocus),s.mode!="mix"){if(l=="focus")return this.trigger("focus",c),void(s.dropdown.enabled!==0&&s.userInput||this.dropdown.show(this.value.length?"":void 0));l=="blur"&&(this.trigger("blur",c),this.loading(!1),s.mode=="select"&&(T&&(this.removeTags(),n=""),o===n&&(n="")),n&&!this.state.actions.selectOption&&s.addTagOnBlur&&this.addTags(n,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else l=="focus"?this.trigger("focus",c):e.type=="blur"&&(this.trigger("blur",c),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(e){this.state.composing=!0},onCompositionEnd(e){this.state.composing=!1},onWindowKeyDown(e){var s,n=document.activeElement,o=S.call(this,n)&&this.DOM.scope.contains(document.activeElement),l=o&&n.hasAttribute("readonly");if(o&&!l)switch(s=n.nextElementSibling,e.key){case"Backspace":this.settings.readonly||(this.removeTags(n),(s||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,n)}},onKeydown(e){var s=this.settings;if(!this.state.composing&&s.userInput){s.mode=="select"&&s.enforceWhitelist&&this.value.length&&e.key!="Tab"&&e.preventDefault();var n=this.trim(e.target.textContent);if(this.trigger("keydown",{event:e}),s.mode=="mix"){switch(e.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var o=document.getSelection(),l=e.key=="Delete"&&o.anchorOffset==(o.anchorNode.length||0),h=o.anchorNode.previousSibling,c=o.anchorNode.nodeType==1||!o.anchorOffset&&h&&h.nodeType==1&&o.anchorNode.previousSibling;L(this.DOM.input.innerHTML);var u,m,T,O=this.getTagElms();if(s.backspace=="edit"&&c)return u=o.anchorNode.nodeType==1?null:o.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,u),void e.preventDefault();if(v()&&c instanceof Element)return T=N(c),c.hasAttribute("readonly")||c.remove(),this.DOM.input.focus(),void setTimeout(()=>{this.placeCaretAfterNode(T),this.DOM.input.click()});if(o.anchorNode.nodeName=="BR")return;if((l||c)&&o.anchorNode.nodeType==1?m=o.anchorOffset==0?l?O[0]:null:O[Math.min(O.length,o.anchorOffset)-1]:l?m=o.anchorNode.nextElementSibling:c instanceof Element&&(m=c),o.anchorNode.nodeType==3&&!o.anchorNode.nodeValue&&o.anchorNode.previousElementSibling&&e.preventDefault(),(c||l)&&!s.backspace||o.type!="Range"&&!o.anchorOffset&&o.anchorNode==this.DOM.input&&e.key!="Delete")return void e.preventDefault();if(o.type!="Range"&&m&&m.hasAttribute("readonly"))return void this.placeCaretAfterNode(N(m));clearTimeout(bt),bt=setTimeout(()=>{var y=document.getSelection();L(this.DOM.input.innerHTML),!l&&y.anchorNode.previousSibling,this.value=[].map.call(O,(C,R)=>{var x=w(C);if(C.parentNode||x.readonly)return x;this.trigger("remove",{tag:C,index:R,data:x})}).filter(C=>C)},20)}return!0}switch(e.key){case"Backspace":s.mode=="select"&&s.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&s.dropdown.position!="manual"||e.target.textContent!=""&&n.charCodeAt(0)!=8203||(s.backspace===!0?this.removeTags():s.backspace=="edit"&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let y=this.state.inputSuggestion||this.state.ddItemData;if(y&&s.autoComplete.rightKey)return void this.addTags([y],!0);break}case"Tab":{let y=s.mode=="select";if(!n||y)return!0;e.preventDefault()}case"Enter":if(this.state.dropdown.visible&&s.dropdown.position!="manual")return;e.preventDefault(),setTimeout(()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(n,!0)})}}},onInput(e){this.postUpdate();var s=this.settings;if(s.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,e);var n=this.input.normalize.call(this),o=n.length>=s.dropdown.enabled,l={value:n,inputElm:this.DOM.input},h=this.validateTag({value:n});s.mode=="select"&&this.toggleScopeValidation(h),l.isValid=h,this.state.inputText!=n&&(this.input.set.call(this,n,!1),n.search(s.delimiters)!=-1?this.addTags(n)&&this.input.set.call(this):s.dropdown.enabled>=0&&this.dropdown[o?"show":"hide"](n),this.trigger("input",l))},onMixTagsInput(e){var s,n,o,l,h,c,u,m,T=this.settings,O=this.value.length,y=this.getTagElms(),C=document.createDocumentFragment(),R=window.getSelection().getRangeAt(0),x=[].map.call(y,V=>w(V).value);if(e.inputType=="deleteContentBackward"&&v()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),this.value.slice().forEach(V=>{V.readonly&&!x.includes(V.value)&&C.appendChild(this.createTagElem(V))}),C.childNodes.length&&(R.insertNode(C),this.setRangeAtStartEnd(!1,C.lastChild)),y.length!=O)return this.value=[].map.call(this.getTagElms(),V=>w(V)),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(c=window.getSelection()).rangeCount>0&&c.anchorNode.nodeType==3){if((R=c.getRangeAt(0).cloneRange()).collapse(!0),R.setStart(c.focusNode,0),o=(s=R.toString().slice(0,R.endOffset)).split(T.pattern).length-1,(n=s.match(T.pattern))&&(l=s.slice(s.lastIndexOf(n[n.length-1]))),l){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:l.match(T.pattern)[0],value:l.replace(T.pattern,"")},this.state.tag.baseOffset=c.baseOffset-this.state.tag.value.length,m=this.state.tag.value.match(T.delimiters))return this.state.tag.value=this.state.tag.value.replace(T.delimiters,""),this.state.tag.delimiters=m[0],this.addTags(this.state.tag.value,T.dropdown.clearOnSelect),void this.dropdown.hide();h=this.state.tag.value.length>=T.dropdown.enabled;try{u=(u=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&u.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(u||o<this.state.mixMode.matchedPatternCount)&&(h=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=o}setTimeout(()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",D({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[h?"show":"hide"](this.state.tag.value)},10)},onInputIE(e){var s=this;setTimeout(function(){s.events.callbacks.onInput.call(s,e)})},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(e){e.target==this.DOM.scope||this.DOM.scope.contains(e.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(e){var s=this.settings,n=e.target.closest("."+s.classNames.tag),o=+new Date-this.state.hasFocus;if(e.target!=this.DOM.scope){if(!e.target.classList.contains(s.classNames.tagX))return n?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:w(n),event:e}),void(s.editTags!==1&&s.editTags.clicks!==1||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&(s.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),o>500)?this.state.dropdown.visible?this.dropdown.hide():s.dropdown.enabled===0&&s.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):s.mode!="select"||s.dropdown.enabled!==0||this.state.dropdown.visible||this.dropdown.show());this.removeTags(e.target.parentNode)}else this.DOM.input.focus()},onPaste(e){e.preventDefault();var s,n,o=this.settings;if(o.mode=="select"&&o.enforceWhitelist||!o.userInput)return!1;o.readonly||(s=e.clipboardData||window.clipboardData,n=s.getData("Text"),o.hooks.beforePaste(e,{tagify:this,pastedText:n,clipboardData:s}).then(l=>{l===void 0&&(l=n),l&&(this.injectAtCaret(l,window.getSelection().getRangeAt(0)),this.settings.mode=="mix"?this.events.callbacks.onMixTagsInput.call(this,e):this.settings.pasteAsTags?this.addTags(this.state.inputText+l,!0):this.state.inputText=l)}).catch(l=>l))},onDrop(e){e.preventDefault()},onEditTagInput(e,s){var n=e.closest("."+this.settings.classNames.tag),o=this.getNodeIndex(n),l=w(n),h=this.input.normalize.call(this,e),c={[this.settings.tagTextProp]:h,__tagId:l.__tagId},u=this.validateTag(c);this.editTagChangeDetected(D(l,c))||e.originalIsValid!==!0||(u=!0),n.classList.toggle(this.settings.classNames.tagInvalid,u!==!0),l.__isValid=u,n.title=u===!0?l.title||l.value:u,h.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=h),this.dropdown.show(h)),this.trigger("edit:input",{tag:n,index:o,data:D({},this.value[o],{newValue:h}),event:s})},onEditTagPaste(e,s){var n=(s.clipboardData||window.clipboardData).getData("Text");s.preventDefault();var o=A(n);this.setRangeAtStartEnd(!1,o)},onEditTagFocus(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur(e){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(e)){var s,n,o=this.settings,l=e.closest("."+o.classNames.tag),h=w(l),c=this.input.normalize.call(this,e),u={[o.tagTextProp]:c,__tagId:h.__tagId},m=h.__originalData,T=this.editTagChangeDetected(D(h,u)),O=this.validateTag(u);if(c)if(T){if(s=this.hasMaxTags(),n=D({},m,{[o.tagTextProp]:this.trim(c),__isValid:O}),o.transformTag.call(this,n,m),(O=(!s||m.__isValid===!0)&&this.validateTag(n))!==!0){if(this.trigger("invalid",{data:n,tag:l,message:O}),o.editTags.keepInvalid)return;o.keepInvalidTags?n.__isValid=O:n=m}else o.keepInvalidTags&&(delete n.title,delete n["aria-invalid"],delete n.class);this.onEditTagDone(l,n)}else this.onEditTagDone(l,m);else this.onEditTagDone(l)}},onEditTagkeydown(e,s){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:e}),e.key){case"Esc":case"Escape":s.parentNode.replaceChild(s.__tagifyTagData.__originalHTML,s),this.state.editing=!1;case"Enter":case"Tab":e.preventDefault(),e.target.blur()}},onDoubleClickScope(e){var s,n,o=e.target.closest("."+this.settings.classNames.tag),l=w(o),h=this.settings;o&&h.userInput&&l.editable!==!1&&(s=o.classList.contains(this.settings.classNames.tagEditing),n=o.hasAttribute("readonly"),h.mode=="select"||h.readonly||s||n||!this.settings.editTags||this.editTag(o),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:o,index:this.getNodeIndex(o),data:w(o)}))},onInputDOMChange(e){e.forEach(n=>{n.addedNodes.forEach(o=>{var l;if(o.outerHTML=="<div><br></div>")o.replaceWith(document.createElement("br"));else if(o.nodeType==1&&o.querySelector(this.settings.classNames.tagSelector)){let h=document.createTextNode("");o.childNodes[0].nodeType==3&&o.previousSibling.nodeName!="BR"&&(h=document.createTextNode(`
`)),o.replaceWith(h,...[...o.childNodes].slice(0,-1)),this.placeCaretAfterNode(h)}else if(S.call(this,o)&&(((l=o.previousSibling)==null?void 0:l.nodeType)!=3||o.previousSibling.textContent||o.previousSibling.remove(),o.previousSibling&&o.previousSibling.nodeName=="BR")){o.previousSibling.replaceWith(`
`);let h=o.nextSibling,c="";for(;h;)c+=h.textContent,h=h.nextSibling;c.trim()&&this.placeCaretAfterNode(o.previousSibling)}}),n.removedNodes.forEach(o=>{o&&o.nodeName=="BR"&&S.call(this,s)&&(this.removeTags(s),this.fixFirefoxLastTagNoCaret())})});var s=this.DOM.input.lastChild;s&&s.nodeValue==""&&s.remove(),s&&s.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function qt(e,s){if(!e){console.warn("Tagify:","input element not found",e);const o=new Proxy(this,{get:()=>()=>o});return o}if(e.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",e),e.__tagify;var n;D(this,function(o){var l=document.createTextNode("");function h(c,u,m){m&&u.split(/\s+/g).forEach(T=>l[c+"EventListener"].call(l,T,m))}return{off(c,u){return h("remove",c,u),this},on(c,u){return u&&typeof u=="function"&&h("add",c,u),this},trigger(c,u,m){var T;if(m=m||{cloneData:!0},c)if(o.settings.isJQueryPlugin)c=="remove"&&(c="removeTag"),jQuery(o.DOM.originalInput).triggerHandler(c,[u]);else{try{var O=typeof u=="object"?u:{value:u};if((O=m.cloneData?D({},O):O).tagify=this,u.event&&(O.event=this.cloneEvent(u.event)),u instanceof Object)for(var y in u)u[y]instanceof HTMLElement&&(O[y]=u[y]);T=new CustomEvent(c,{detail:O})}catch(C){console.warn(C)}l.dispatchEvent(T)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,s=s||{},this.getPersistedData=(n=s.id,o=>{let l,h="/"+o;if(localStorage.getItem(J+n+"/v",1)==1)try{l=JSON.parse(localStorage[J+n+h])}catch{}return l}),this.setPersistedData=(o=>o?(localStorage.setItem(J+o+"/v",1),(l,h)=>{let c="/"+h,u=JSON.stringify(l);l&&h&&(localStorage.setItem(J+o+c,u),dispatchEvent(new Event("storage")))}):()=>{})(s.id),this.clearPersistedData=(o=>l=>{const h=J+"/"+o+"/";if(l)localStorage.removeItem(h+l);else for(let c in localStorage)c.includes(h)&&localStorage.removeItem(c)})(s.id),this.applySettings(e,s),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),H.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),e.autofocus&&this.DOM.input.focus(),e.__tagify=this}return qt.prototype={_dropdown:B,getSetTagData:w,helpers:{sameStr:p,removeCollectionProp:f,omit:b,isObject:k,parseHTML:P,escapeHTML:$,extend:D,concatWithoutDups:Tt,getUID:_,isNodeTag:S},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(e){return this.settings.trim&&e&&typeof e=="string"?e.trim():e},parseHTML:P,templates:nt,parseTemplate(e,s){return P((e=this.settings.templates[e]||e).apply(this,s))},set whitelist(e){const s=e&&Array.isArray(e);this.settings.whitelist=s?e:[],this.setPersistedData(s?e:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(e){for(let s in e){let n=s;Object.defineProperty(e,n+"Selector",{get(){return"."+this[n].split(" ")[0]}})}},applySettings(e,s){var h,c;I.templates=this.templates;var n=D({},I,s.mode=="mix"?{dropdown:{position:"text"}}:{}),o=this.settings=D({},n,s);if(o.disabled=e.hasAttribute("disabled"),o.readonly=o.readonly||e.hasAttribute("readonly"),o.placeholder=$(e.getAttribute("placeholder")||o.placeholder||""),o.required=e.hasAttribute("required"),this.generateClassSelectors(o.classNames),o.dropdown.includeSelectedTags===void 0&&(o.dropdown.includeSelectedTags=o.duplicates),this.isIE&&(o.autoComplete=!1),["whitelist","blacklist"].forEach(u=>{var m=e.getAttribute("data-"+u);m&&(m=m.split(o.delimiters))instanceof Array&&(o[u]=m)}),"autoComplete"in s&&!k(s.autoComplete)&&(o.autoComplete=I.autoComplete,o.autoComplete.enabled=s.autoComplete),o.mode=="mix"&&(o.pattern=o.pattern||/@/,o.autoComplete.rightKey=!0,o.delimiters=s.delimiters||null,o.tagTextProp&&!o.dropdown.searchKeys.includes(o.tagTextProp)&&o.dropdown.searchKeys.push(o.tagTextProp)),e.pattern)try{o.pattern=new RegExp(e.pattern)}catch{}if(o.delimiters){o._delimiters=o.delimiters;try{o.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}o.disabled&&(o.userInput=!1),this.TEXTS=a(a({},ht),o.texts||{}),(o.mode!="select"||(h=s.dropdown)!=null&&h.enabled)&&o.userInput||(o.dropdown.enabled=0),o.dropdown.appendTarget=((c=s.dropdown)==null?void 0:c.appendTarget)||document.body;let l=this.getPersistedData("whitelist");Array.isArray(l)&&(this.whitelist=Array.isArray(o.whitelist)?Tt(o.whitelist,l):l)},getAttributes(e){var s,n=this.getCustomAttributes(e),o="";for(s in n)o+=" "+s+(e[s]!==void 0?`="${n[s]}"`:"");return o},getCustomAttributes(e){if(!k(e))return"";var s,n={};for(s in e)s.slice(0,2)!="__"&&s!="class"&&e.hasOwnProperty(s)&&e[s]!==void 0&&(n[s]=$(e[s]));return n},setStateSelection(){var e=window.getSelection(),s={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=s,s},getCSSVars(){var e=getComputedStyle(this.DOM.scope,null),s;this.CSSVars={tagHideTransition:(n=>{let o=n.value;return n.unit=="s"?1e3*o:o})(function(n){if(!n)return{};var o=(n=n.trim().split(" ")[0]).split(/\d+/g).filter(l=>l).pop().trim();return{value:+n.split(o).filter(l=>l)[0].trim(),unit:o}}((s="tag-hide-transition",e.getPropertyValue("--"+s))))}},build(e){var s=this.DOM;this.settings.mixMode.integrated?(s.originalInput=null,s.scope=e,s.input=e):(s.originalInput=e,s.originalInput_tabIndex=e.tabIndex,s.scope=this.parseTemplate("wrapper",[e,this.settings]),s.input=s.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(s.scope,e),e.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(e){var s,n=this.settings;if(this.state.blockChangeEvent=!0,e===void 0){const o=this.getPersistedData("value");e=o&&!this.DOM.originalInput.value?o:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),e)if(n.mode=="mix")this.parseMixTags(e),(s=this.DOM.input.lastChild)&&s.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(e)instanceof Array&&(e=JSON.parse(e))}catch{}this.addTags(e,!0).forEach(o=>o&&o.classList.add(n.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(e){var s={};for(var n in e)n!="path"&&(s[n]=e[n]);return s},loading(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(e,s){return e&&e.classList[s?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(e,s){typeof e=="string"&&this.DOM.scope.classList.toggle(e,s)},toggleScopeValidation(e){var s=e===!0||e===void 0;!this.settings.required&&e&&e===this.TEXTS.empty&&(s=!0),this.toggleClass(this.settings.classNames.tagInvalid,!s),this.DOM.scope.title=s?"":e},toggleFocusClass(e){this.toggleClass(this.settings.classNames.focus,!!e)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,s=this.state.lastOriginalValueReported!==e.value,n=new CustomEvent("change",{bubbles:!0});s&&(this.state.lastOriginalValueReported=e.value,n.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:Z,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(e,s){if(s){e=typeof e=="number"?e:!!e,s=s.lastChild||s;var n=document.getSelection();if(n.focusNode instanceof Element&&!this.DOM.input.contains(n.focusNode))return!0;try{n.rangeCount>=1&&["Start","End"].forEach(o=>n.getRangeAt(0)["set"+o](s,e||s.length))}catch{}}},placeCaretAfterNode(e){if(e&&e.parentNode){var s=e,n=window.getSelection(),o=n.getRangeAt(0);n.rangeCount&&(o.setStartAfter(s),o.collapse(!0),n.removeAllRanges(),n.addRange(o))}},insertAfterTag(e,s){if(s=s||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&s)return s=typeof s=="string"?document.createTextNode(s):s,e.parentNode.insertBefore(s,e.nextSibling),s},editTagChangeDetected(e){var s=e.__originalData;for(var n in s)if(!this.dataProps.includes(n)&&e[n]!=s[n])return!0;return!1},getTagTextNode(e){return e.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(e,s){this.getTagTextNode(e).innerHTML=$(s)},editTag(e,s){e=e||this.getLastTag(),s=s||{},this.dropdown.hide();var n=this.settings,o=this.getTagTextNode(e),l=this.getNodeIndex(e),h=w(e),c=this.events.callbacks,u=this,m=!0;if(o){if(!(h instanceof Object&&"editable"in h)||h.editable)return h=w(e,{__originalData:D({},h),__originalHTML:e.cloneNode(!0)}),w(h.__originalHTML,h.__originalData),o.setAttribute("contenteditable",!0),e.classList.add(n.classNames.tagEditing),o.addEventListener("focus",c.onEditTagFocus.bind(this,e)),o.addEventListener("blur",function(){setTimeout(()=>c.onEditTagBlur.call(u,u.getTagTextNode(e)))}),o.addEventListener("input",c.onEditTagInput.bind(this,o)),o.addEventListener("paste",c.onEditTagPaste.bind(this,o)),o.addEventListener("keydown",T=>c.onEditTagkeydown.call(this,T,e)),o.addEventListener("compositionstart",c.onCompositionStart.bind(this)),o.addEventListener("compositionend",c.onCompositionEnd.bind(this)),s.skipValidation||(m=this.editTagToggleValidity(e)),o.originalIsValid=m,this.trigger("edit:start",{tag:e,index:l,data:h,isValid:m}),o.focus(),this.setRangeAtStartEnd(!1,o),this}else console.warn("Cannot find element in Tag template: .",n.classNames.tagTextSelector)},editTagToggleValidity(e,s){var n;if(s=s||w(e))return(n=!("__isValid"in s)||s.__isValid===!0)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!n),s.__isValid;console.warn("tag has no data: ",e,s)},onEditTagDone(e,s){s=s||{};var n={tag:e=e||this.state.editing.scope,index:this.getNodeIndex(e),previousData:w(e),data:s};this.trigger("edit:beforeUpdate",n,{cloneData:!1}),this.state.editing=!1,delete s.__originalData,delete s.__originalHTML,e&&s[this.settings.tagTextProp]?(e=this.replaceTag(e,s),this.editTagToggleValidity(e,s),this.settings.a11y.focusableTags?e.focus():this.placeCaretAfterNode(e)):e&&this.removeTags(e),this.trigger("edit:updated",n),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(e,s){s&&s.value||(s=e.__tagifyTagData),s.__isValid&&s.__isValid!=1&&D(s,this.getInvalidTagAttrs(s,s.__isValid));var n=this.createTagElem(s);return e.parentNode.replaceChild(n,e),this.updateValueByDOMTags(),n},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),e=>{e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(w(e))}),this.update()},injectAtCaret(e,s){var n;return!(s=s||((n=this.state.selection)==null?void 0:n.range))&&e?(this.appendMixTags(e),this):(A(e,s),this.setRangeAtStartEnd(!1,e),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var n=this.settings.dropdown.closeOnSelect;this.state.inputText=e,s&&(this.DOM.input.innerHTML=$(""+e)),!e&&n&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var e=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize(e){var s=e||this.DOM.input,n=[];s.childNodes.forEach(o=>o.nodeType==3&&n.push(o.nodeValue)),n=n.join(`
`);try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return n=n.replace(/\s/g," "),this.trim(n)},autocomplete:{suggest(e){if(this.settings.autoComplete.enabled){typeof(e=e||{value:""})=="string"&&(e={value:e});var s=this.dropdown.getMappedValue(e);if(typeof s!="number"){var n=s.substr(0,this.state.inputText.length).toLowerCase(),o=s.substring(this.state.inputText.length);s&&this.state.inputText&&n==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",o),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(e){var s=this.DOM.input.getAttribute("data-suggest"),n=e||(s?this.state.inputText+s:null);return!!n&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(e){return this.value.findIndex(s=>s.__tagId==(e||{}).__tagId)},getNodeIndex(e){var s=0;if(e)for(;e=e.previousElementSibling;)s++;return s},getTagElms(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];var o="."+[...this.settings.classNames.tag.split(" "),...s].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(o))},getLastTag(){var e=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return e[e.length-1]},isTagDuplicate(e,s,n){var o=0;if(this.settings.mode=="select")return!1;for(let l of this.value)p(this.trim(""+e),l.value,s)&&n!=l.__tagId&&o++;return o},getTagIndexByValue(e){var s=[];return this.getTagElms().forEach((n,o)=>{p(this.trim(n.textContent),e,this.settings.dropdown.caseSensitive)&&s.push(o)}),s},getTagElmByValue(e){var s=this.getTagIndexByValue(e)[0];return this.getTagElms()[s]},flashTag(e){e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{e.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter(s=>(""+s).toLowerCase()==e).length},isTagWhitelisted(e){return!!this.getWhitelistItem(e)},getWhitelistItem(e,s,n){s=s||"value";var o,l=this.settings;return(n=n||l.whitelist).some(h=>{var c=typeof h=="string"?h:h[s]||h.value;if(p(c,e,l.dropdown.caseSensitive,l.trim))return o=typeof h=="string"?{value:h}:h,!0}),o||s!="value"||l.tagTextProp=="value"||(o=this.getWhitelistItem(e,l.tagTextProp,n)),o},validateTag(e){var s=this.settings,n="value"in e?"value":s.tagTextProp,o=this.trim(e[n]+"");return(e[n]+"").trim()?s.pattern&&s.pattern instanceof RegExp&&!s.pattern.test(o)?this.TEXTS.pattern:!s.duplicates&&this.isTagDuplicate(o,s.dropdown.caseSensitive,e.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(o)||s.enforceWhitelist&&!this.isTagWhitelisted(o)?this.TEXTS.notAllowed:!s.validate||s.validate(e):this.TEXTS.empty},getInvalidTagAttrs(e,s){return{"aria-invalid":!0,class:`${e.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:s}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(e,s){var n=this.settings;document.activeElement.blur(),n[s||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](s||"readonly",!0),this.setContentEditable(!e)},setContentEditable(e){this.settings.userInput&&(this.DOM.input.contentEditable=e,this.DOM.input.tabIndex=e?0:-1)},setDisabled(e){this.setReadonly(e,"disabled")},normalizeTags(e){var s=this.settings,n=s.whitelist,o=s.delimiters,l=s.mode,h=s.tagTextProp,c=[],u=!!n&&n[0]instanceof Object,m=Array.isArray(e),T=m&&e[0].value,O=y=>(y+"").split(o).filter(C=>C).map(C=>({[h]:this.trim(C),value:this.trim(C)}));if(typeof e=="number"&&(e=e.toString()),typeof e=="string"){if(!e.trim())return[];e=O(e)}else m&&(e=[].concat(...e.map(y=>y.value!=null?y:O(y))));return u&&!T&&(e.forEach(y=>{var C=c.map(V=>V.value),R=this.dropdown.filterListItems.call(this,y[h],{exact:!0});this.settings.duplicates||(R=R.filter(V=>!C.includes(V.value)));var x=R.length>1?this.getWhitelistItem(y[h],h,R):R[0];x&&x instanceof Object?c.push(x):l!="mix"&&(y.value==null&&(y.value=y[h]),c.push(y))}),c.length&&(e=c)),e},parseMixTags(e){var s=this.settings,n=s.mixTagsInterpolator,o=s.duplicates,l=s.transformTag,h=s.enforceWhitelist,c=s.maxTags,u=s.tagTextProp,m=[];return e=e.split(n[0]).map((T,O)=>{var y,C,R,x=T.split(n[1]),V=x[0],M=m.length==c;try{if(V==+V)throw Error;C=JSON.parse(V)}catch{C=this.normalizeTags(V)[0]||{value:V}}if(l.call(this,C),M||!(x.length>1)||h&&!this.isTagWhitelisted(C.value)||!o&&this.isTagDuplicate(C.value)){if(T)return O?n[0]+T:T}else C[y=C[u]?u:"value"]=this.trim(C[y]),R=this.createTagElem(C),m.push(C),R.classList.add(this.settings.classNames.tagNoAnimation),x[0]=R.outerHTML,this.value.push(C);return x.join("")}).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach((T,O)=>w(T,m[O])),this.update({withoutChangeEvent:!0}),e},replaceTextWithNode(e,s){if(this.state.tag||s){s=s||this.state.tag.prefix+this.state.tag.value;var n,o,l=this.state.selection||window.getSelection(),h=l.anchorNode,c=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return h.splitText(l.anchorOffset-c),(n=h.nodeValue.lastIndexOf(s))==-1||(o=h.splitText(n),e&&h.parentNode.replaceChild(e,o)),!0}},selectTag(e,s){var n=this.settings;if(!n.enforceWhitelist||this.isTagWhitelisted(s.value)){this.input.set.call(this,s[n.tagTextProp]||s.value,!0),this.state.actions.selectOption&&setTimeout(()=>this.setRangeAtStartEnd(!1,this.DOM.input));var o=this.getLastTag();return o?this.replaceTag(o,s):this.appendTag(e),this.value[0]=s,this.update(),this.trigger("add",{tag:e,data:s}),[e]}},addEmptyTag(e){var s=D({value:""},e||{}),n=this.createTagElem(s);w(n,s),this.appendTag(n),this.editTag(n,{skipValidation:!0})},addTags(e,s,n){var o=[],l=this.settings,h=[],c=document.createDocumentFragment();if(n=n||l.skipInvalid,!e||e.length==0)return o;switch(e=this.normalizeTags(e),l.mode){case"mix":return this.addMixTags(e);case"select":s=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),e.forEach(u=>{var m,T={},O=Object.assign({},u,{value:u.value+""});if(u=Object.assign({},O),l.transformTag.call(this,u),u.__isValid=this.hasMaxTags()||this.validateTag(u),u.__isValid!==!0){if(n)return;if(D(T,this.getInvalidTagAttrs(u,u.__isValid),{__preInvalidData:O}),u.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(u.value)),!l.createInvalidTags)return void h.push(u.value)}if("readonly"in u&&(u.readonly?T["aria-readonly"]=!0:delete u.readonly),m=this.createTagElem(u,T),o.push(m),l.mode=="select")return this.selectTag(m,u);c.appendChild(m),u.__isValid&&u.__isValid===!0?(this.value.push(u),this.trigger("add",{tag:m,index:this.value.length-1,data:u})):(this.trigger("invalid",{data:u,index:this.value.length,tag:m,message:u.__isValid}),l.keepInvalidTags||setTimeout(()=>this.removeTags(m,!0),1e3)),this.dropdown.position()}),this.appendTag(c),this.update(),e.length&&s&&(this.input.set.call(this,l.createInvalidTags?"":h.join(l._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),l.dropdown.enabled&&this.dropdown.refilter(),o},addMixTags(e){if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);var s=document.createDocumentFragment();return e.forEach(n=>{var o=this.createTagElem(n);s.appendChild(o)}),this.appendMixTags(s),s},appendMixTags(e){var s=!!this.state.selection;s?this.injectAtCaret(e):(this.DOM.input.focus(),(s=this.setStateSelection()).range.setStart(this.DOM.input,s.range.endOffset),s.range.setEnd(this.DOM.input,s.range.endOffset),this.DOM.input.appendChild(e),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(e){var s,n=this.settings,o=this.state.tag.delimiters;if(n.transformTag.call(this,e),e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(n.pattern.source||n.pattern)[0],s=this.createTagElem(e),this.replaceTextWithNode(s)||this.DOM.input.appendChild(s),setTimeout(()=>s.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(e),this.update(),!o){var l=this.insertAfterTag(s)||s;setTimeout(this.placeCaretAfterNode,0,l)}return this.state.tag=null,this.trigger("add",D({},{tag:s},{data:e})),s},appendTag(e){var s=this.DOM,n=s.input;s.scope.insertBefore(e,n)},createTagElem(e,s){e.__tagId=_();var n,o=D({},e,a({value:$(e.value+"")},s));return function(l){for(var h,c=document.createNodeIterator(l,NodeFilter.SHOW_TEXT,null,!1);h=c.nextNode();)h.textContent.trim()||h.parentNode.removeChild(h)}(n=this.parseTemplate("tag",[o,this])),w(n,e),n},reCheckInvalidTags(){var e=this.settings;this.getTagElms(e.classNames.tagNotAllowed).forEach((s,n)=>{var o=w(s),l=this.hasMaxTags(),h=this.validateTag(o),c=h===!0&&!l;if(e.mode=="select"&&this.toggleScopeValidation(h),c)return o=o.__preInvalidData?o.__preInvalidData:{value:o.value},this.replaceTag(s,o);s.title=l||h})},removeTags(e,s,n){var o,l=this.settings;if(e=e&&e instanceof HTMLElement?[e]:e instanceof Array?e:e?[e]:[this.getLastTag()],o=e.reduce((h,c)=>{c&&typeof c=="string"&&(c=this.getTagElmByValue(c));var u=w(c);return c&&u&&!u.readonly&&h.push({node:c,idx:this.getTagIdx(u),data:w(c,{__removed:!0})}),h},[]),n=typeof n=="number"?n:this.CSSVars.tagHideTransition,l.mode=="select"&&(n=0,this.input.set.call(this)),o.length==1&&l.mode!="select"&&o[0].node.classList.contains(l.classNames.tagNotAllowed)&&(s=!0),o.length)return l.hooks.beforeRemoveTag(o,{tagify:this}).then(()=>{function h(c){c.node.parentNode&&(c.node.parentNode.removeChild(c.node),s?l.keepInvalidTags&&this.trigger("remove",{tag:c.node,index:c.idx}):(this.trigger("remove",{tag:c.node,index:c.idx,data:c.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),l.keepInvalidTags&&this.reCheckInvalidTags()))}n&&n>10&&o.length==1?(function(c){c.node.style.width=parseFloat(window.getComputedStyle(c.node).width)+"px",document.body.clientTop,c.node.classList.add(l.classNames.tagHide),setTimeout(h.bind(this),n,c)}).call(this,o[0]):o.forEach(h.bind(this)),s||(this.removeTagsFromValue(o.map(c=>c.node)),this.update(),l.mode=="select"&&this.setContentEditable(!0))}).catch(h=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(e=>e.parentNode.removeChild(e))},removeTagsFromValue(e){(e=Array.isArray(e)?e:[e]).forEach(s=>{var n=w(s),o=this.getTagIdx(n);o>-1&&this.value.splice(o,1)})},removeAllTags(e){e=e||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(()=>{this.DOM.input.focus()}),this.settings.mode=="select"&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(e)},postUpdate(){var o,l;this.state.blockChangeEvent=!1;var e=this.settings,s=e.classNames,n=e.mode=="mix"?e.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(s.hasMaxTags,this.value.length>=e.maxTags),this.toggleClass(s.hasNoTags,!this.value.length),this.toggleClass(s.empty,!n),e.mode=="select"&&this.toggleScopeValidation((l=(o=this.value)==null?void 0:o[0])==null?void 0:l.__isValid)},setOriginalInputValue(e){var s=this.DOM.originalInput;this.settings.mixMode.integrated||(s.value=e,s.tagifyValue=s.value,this.setPersistedData(e,"value"))},update(e){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout((function(){var s=this.getInputValue();this.setOriginalInputValue(s),this.settings.onChangeAfterBlur&&(e||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}).bind(this),100)},getInputValue(){var e=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue(e){return f(e||this.value,this.dataProps)},getMixedTagsAsString(){var e="",s=this,n=this.settings,o=n.originalInputValueFormat||JSON.stringify,l=n.mixTagsInterpolator;return function h(c){c.childNodes.forEach(u=>{if(u.nodeType==1){const m=w(u);if(u.tagName=="BR"&&(e+=`\r
`),m&&S.call(s,u)){if(m.__removed)return;e+=l[0]+o(b(m,s.dataProps))+l[1]}else u.getAttribute("style")||["B","I","U"].includes(u.tagName)?e+=u.textContent:u.tagName!="DIV"&&u.tagName!="P"||(e+=`\r
`,h(u))}else e+=u.textContent})}(this.DOM.input),e}},qt.prototype.removeTag=qt.prototype.removeTags,qt})})(zs);var Hr=zs.exports;const Gs=Js(Hr);window.Tagify=Gs;window.coreui=Vr;HTMLElement.prototype.serialize=function(){for(var r={},t=this.querySelectorAll("input, select, textarea"),i=0;i<t.length;++i){var a=t[i],d=a.name,p=a.value;d&&(r[d]=p)}return JSON.stringify(r)};const Ct=function(){const r=function(v){const _="/_,:;",S="aaaaaaaaacccddeeeeeeegghiiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------",A=new RegExp(_.split("").join("|"),"g");return v.toString().toLowerCase().replace(/\s+/g,"-").replace(A,w=>S.charAt(_.indexOf(w))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t=function(){if(document.querySelector(".tagging")){const v=document.querySelector(".tagging").getAttribute("data-whitelisted")?JSON.parse(document.querySelector(".tagging").getAttribute("data-whitelisted")):[];new Gs(document.querySelector(".tagging"),{whitelist:v,tagTextProp:"name"})}},i=function(){document.querySelectorAll(".copy-to-field").length>0&&document.querySelectorAll(".copy-to-field").forEach(v=>{v.addEventListener("keydown",_=>{_.target.value}),v.addEventListener("keyup",_=>{const S=_.target.getAttribute("data-copy-elements");document.querySelectorAll(S).forEach(A=>{(A.value==""||A.value==text)&&(A.value=text)})})})},a=function(v){v.classList.add("d-none"),v.nextElementSibling.classList.remove("d-none")},d=function(v){v.classList.remove("d-none"),v.nextElementSibling.classList.add("d-none")},p=function(v){return Array.from(new FormData(v),function(_){return _.map(encodeURIComponent).join("=")}).join("&")},f=function(){document.querySelectorAll(".widgetSelection").forEach(v=>{v.addEventListener("click",_=>{_.preventDefault();const S=_.target.parentElement;S.querySelectorAll(".nav-link").forEach(A=>{A.classList.remove("active")}),_.target.classList.add("active"),S.parentElement.parentElement.querySelector(".card-footer").classList.remove("d-none")})})},b=function(v){v&&document.querySelectorAll(".addWidget").forEach(_=>{_.addEventListener("click",function(S){S.preventDefault();const A=S.target,I=A.parentElement.previousElementSibling.querySelector(".nav-link.active");if(I){const H=I.dataset;a(A),axios.post(v,H).then(B=>{if(d(A),!B.data.success){Ct.sweetError(B.data.response.message);return}document.querySelector(B.data.widget).insertAdjacentHTML("beforeend",B.data.response.html),new ft(document.querySelector(B.data.toggle)).show(),L(),N()},B=>{d(A),console.log(B)})}})})},L=function(){document.querySelectorAll(".saveWidget").forEach(v=>{v.addEventListener("click",_=>{_.preventDefault(),P(_.target)})}),document.querySelectorAll(".widget-form").forEach(v=>{v.addEventListener("submit",_=>{_.preventDefault();const S=_.target.parentElement.parentElement.querySelector(".saveWidget");P(S)})})},P=function(v){const _=v,S=_.getAttribute("data-id"),A=document.querySelector(S),w=A.getAttribute("action");if(w){a(_);const I=p(A);axios.put(w,I).then(H=>{if(d(_),!H.data.success){Ct.sweetError(H.data.response.message);return}},H=>{d(_),console.log(H)})}},N=function(){document.querySelectorAll(".deleteWidget").forEach(v=>{v.addEventListener("click",_=>{_.preventDefault(),$(_.target)})})},$=function(v){const _=v,A=_.parentElement.getAttribute("action");if(A){const w=_.dataset;a(_),axios.delete(A,w).then(I=>{if(d(_),!I.data.success){Ct.sweetError(I.data.response.message);return}document.querySelector("#widget-"+_.getAttribute("data-id")).remove()},I=>{d(_),console.log(I)})}},k=function(v){v&&document.querySelectorAll(".sortable-widgets-wrapper").forEach(_=>{new ms(_,{animation:150,handle:".card .card-header",ghostClass:"ghost-class",onSort:function(S){let A=S.to.children,w=[];for(var I=0;I<A.length;I++)w.push(A[I].getAttribute("data-id"));axios.post(v,{ids:w}).then(H=>{if(!H.data.success){Ct.sweetError(H.data.response.message);return}},H=>{console.log(H)})}})})},D=function(){var v=document.querySelectorAll(".range-slider");v.length>0&&v.forEach(_=>{var S=_.querySelector(".range-slider__range"),A=_.querySelector(".range-slider__value");A.innerHTML=A.previousElementSibling.value,S.addEventListener("input",w=>{A.innerHTML=w.target.value})})},Tt=function(v){if(!v)return!1;var _={},S,A=0,w,I,H=0,B,J="",bt=String.fromCharCode,ht=v.length,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(S=0;S<64;S++)_[nt.charAt(S)]=S;for(I=0;I<ht;I++)for(w=_[v.charAt(I)],A=(A<<6)+w,H+=6;H>=8;)((B=A>>>(H-=8)&255)||I<ht-2)&&(J+=bt(B));return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(J)},U=function({title:v="Product Registration",text:_='Enter your purchase code for product activation. <a href="https://help.market.envato.com/hc/en-us/articles/202822600-Where-Is-My-Purchase-Code-" target="_blank">Where is my purchase code?</a>',showCancel:S=!1,buttonText:A="Register",placeholder:w="Enter Purchase Code",backdrop:I="rgba(0,0,0,0.85)",inputValue:H="",footer:B="Important: Please register item to use all site features.",route:J=`//${window.location.host}/admin/register-item`}){var ht;let bt=(ht=document.querySelector('meta[name="artisan-token"]'))==null?void 0:ht.content;Tt(bt)||document.querySelector("body.layout-guest")||wt.fire({title:v,html:_,input:"text",inputAttributes:{autocapitalize:"off"},backdrop:I,showCancelButton:S,confirmButtonText:A,showLoaderOnConfirm:!0,inputPlaceholder:w,allowOutsideClick:!1,allowEscapeKey:!1,inputValue:H,inputAutoTrim:!0,footer:B,preConfirm:nt=>axios.post(J,{code:nt}).then(Z=>{if(!Z.data.status)throw new Error(Z.data.message);return Z.data},Z=>{wt.showValidationMessage(`Request failed: ${Z.response.data.message}`)}).catch(function(Z){wt.showValidationMessage(Z)})}).then(nt=>{nt.isConfirmed&&wt.fire({text:nt.value.message})})};return{init:function(){t(),i(),D(),this.initSlug(),this.initTooltip()},initTooltip:function(){[...document.querySelectorAll('[data-coreui-toggle="tooltip"]')].map(_=>new ct(_))},initSlug:function(){document.querySelectorAll(".slug_title").forEach(v=>{v.addEventListener("keyup",_=>{const S=r(_.target.value);_.target.parentElement.parentElement.querySelector(".slug")?_.target.parentElement.parentElement.querySelector(".slug").value=S:_.target.parentElement.parentElement.parentElement.querySelector(".slug").value=S})})},initWidgets:function(v,_){f(),N(),L(),b(v),k(_)},sweetError:function(v,_,S){let A={icon:"error",title:"Error",html:v,confirmButtonText:"Ok",allowOutsideClick:!1,allowEscapeKey:!1};A=Object.assign({},A,S),wt.fire(A).then(function(w){typeof _=="function"&&_()})},sweetSuccess:function(v,_,S){let A={icon:"success",title:"Success",text:v,timer:2e3,confirmButtonText:"Ok",allowOutsideClick:!1,allowEscapeKey:!1};A=Object.assign({},A,S),wt.fire(A).then(function(w){typeof _=="function"&&_()})}}}();window.DotArtisan=Ct;Ct.init();
